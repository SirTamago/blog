<!DOCTYPE html><html lang="[&quot;zh-CN&quot;,&quot;en&quot;,&quot;default&quot;]" data-theme="light"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><title>ç”µå­è®¾è®¡è‡ªåŠ¨åŒ–å®éªŒæŠ¥å‘Š | Rimrose's Blog</title><noscript>å¼€å¯JavaScriptæ‰èƒ½è®¿é—®æœ¬ç«™å“¦~</noscript><link rel="icon" href="https://images.rimrose.site/images/QQå›¾ç‰‡20231031210606.ico"><!-- index.css--><link rel="stylesheet" href="/css/index.css?v=2.1.9"><!-- inject head--><link rel="canonical" href="https://sirtamago.github.io/blog/TEC/%E7%94%B5%E5%AD%90%E8%AE%BE%E8%AE%A1%E8%87%AA%E5%8A%A8%E5%8C%96%E5%AE%9E%E9%AA%8C%E6%8A%A5%E5%91%8A/"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css"><!-- aplayer--><!-- swiper--><!-- fancybox ui--><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancyapps-ui/5.0.36/fancybox/fancybox.min.css"><!-- katex--><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css"><!-- Open Graph--><meta name="description" content="ç”µå­è®¾è®¡è‡ªåŠ¨åŒ–-å®éªŒæŠ¥å‘Š å®éªŒä¸€ï¼šLEDæµæ°´ç¯è®¾è®¡ ä¸€ã€å®éªŒç›®çš„ ç†Ÿæ‚‰QuartusIIå¼€å‘ç¯å¢ƒ æŒæ¡FPGAå¼€å‘æµç¨‹ äºŒã€å®éªŒå†…å®¹åŠåŸç† 1. å®éªŒå†…å®¹ é€šè¿‡è®¾è®¡è®¡æ•°å™¨ï¼Œå®ç°LEDæµæ°´ç¯çš„æ•ˆæœ 2. å®éªŒåŸç† LEDç¡¬ä»¶ç”µè·¯ ä»ä¸Šé¢çš„ LED éƒ¨åˆ†åŸç†å›¾å¯ä»¥çœ‹å‡ºï¼ŒLED ç”µè·¯æœ‰ä¸¤"><!-- pwa--><meta name="apple-mobile-web-app-capable" content="Rimrose's Blog"><meta name="theme-color" content="var(--efu-main)"><meta name="apple-mobile-web-app-status-bar-style" content="var(--efu-main)"><link rel="bookmark" href="https://images.rimrose.site/images/QQå›¾ç‰‡20231031210606.ico"><link rel="apple-touch-icon" href="https://images.rimrose.site/images/QQå›¾ç‰‡20231031210606.ico" sizes="180x180"><script>console.log(' %c Solitude %c ' + '2.1.9' + ' %c https://github.com/everfu/hexo-theme-solitude',
    'background:#35495e ; padding: 1px; border-radius: 3px 0 0 3px;  color: #fff',
    'background:#ff9a9a ; padding: 1px; border-radius: 0 3px 3px 0;  color: #fff',
    'background:unset ; padding: 1px; border-radius: 0 3px 3px 0;  color: #fff')
</script><script>(()=>{
        const saveToLocal = {
            set: function setWithExpiry(key, value, ttl) {
                if (ttl === 0)
                    return
                const now = new Date()
                const expiryDay = ttl * 86400000
                const item = {
                    value: value,
                    expiry: now.getTime() + expiryDay
                }
                localStorage.setItem(key, JSON.stringify(item))
            },
            get: function getWithExpiry(key) {
                const itemStr = localStorage.getItem(key)

                if (!itemStr) {
                    return undefined
                }
                const item = JSON.parse(itemStr)
                const now = new Date()

                if (now.getTime() > item.expiry) {
                    localStorage.removeItem(key)
                    return undefined
                }
                return item.value
            }
        };
        window.utils = {
            saveToLocal: saveToLocal,
            getCSS: (url, id = false) => new Promise((resolve, reject) => {
              const link = document.createElement('link')
              link.rel = 'stylesheet'
              link.href = url
              if (id) link.id = id
              link.onerror = reject
              link.onload = link.onreadystatechange = function() {
                const loadState = this.readyState
                if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
                link.onload = link.onreadystatechange = null
                resolve()
              }
              document.head.appendChild(link)
            }),
            getScript: (url, attr = {}) => new Promise((resolve, reject) => {
              const script = document.createElement('script')
              script.src = url
              script.async = true
              script.onerror = reject
              script.onload = script.onreadystatechange = function() {
                const loadState = this.readyState
                if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
                script.onload = script.onreadystatechange = null
                resolve()
              }

              Object.keys(attr).forEach(key => {
                script.setAttribute(key, attr[key])
              })

              document.head.appendChild(script)
            }),
            addGlobalFn: (key, fn, name = false, parent = window) => {
                const globalFn = parent.globalFn || {}
                const keyObj = globalFn[key] || {}

                if (name && keyObj[name]) return

                name = name || Object.keys(keyObj).length
                keyObj[name] = fn
                globalFn[key] = keyObj
                parent.globalFn = globalFn
            },
            addEventListenerPjax: (ele, event, fn, option = false) => {
              ele.addEventListener(event, fn, option)
              utils.addGlobalFn('pjax', () => {
                  ele.removeEventListener(event, fn, option)
              })
          },
        }
    })()</script><!-- theme--><script>initTheme = () => {
    let isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
    const cachedMode = utils.saveToLocal.get('theme');
    if (cachedMode === undefined) {
        const nowMode =
            isDarkMode ? 'dark' : 'light'
        document.documentElement.setAttribute('data-theme', nowMode);
    } else {
        document.documentElement.setAttribute('data-theme', cachedMode);
    }
    typeof rm === 'object' && rm.mode(cachedMode === 'dark' && isDarkMode)
}
initTheme()</script><!-- global head--><script>const GLOBAL_CONFIG = {
    root: '/',
    algolia: undefined,
    localsearch: undefined,
    runtime: '2023-04-20 00:00:00',
    lazyload: {
        enable: false,
        error: '/img/error_load.avif'
    },
    copyright: false,
    highlight: {"limit":200,"expand":true,"copy":true,"syntax":"highlight.js"},
    randomlink: false,
    lang: {"theme":{"dark":"å·²åˆ‡æ¢è‡³æ·±è‰²æ¨¡å¼","light":"å·²åˆ‡æ¢è‡³æµ…è‰²æ¨¡å¼"},"copy":{"success":"å¤åˆ¶æˆåŠŸ","error":"å¤åˆ¶å¤±è´¥"},"backtop":"è¿”å›é¡¶éƒ¨","time":{"day":"å¤©å‰","hour":"å°æ—¶å‰","just":"åˆšåˆš","min":"åˆ†é’Ÿå‰","month":"ä¸ªæœˆå‰"},"day":" å¤©","f12":"å¼€å‘è€…æ¨¡å¼å·²æ‰“å¼€ï¼Œè¯·éµå¾ªGPLåè®®ã€‚","totalk":"æ— éœ€åˆ é™¤ç©ºè¡Œï¼Œç›´æ¥è¾“å…¥è¯„è®ºå³å¯"},
    aside: {
        sayhello: {
            morning: "âœ¨ æ—©ä¸Šå¥½ï¼Œæ–°çš„ä¸€å¤©å¼€å§‹äº†",
            noon: "ğŸ² åˆé¤æ—¶é—´",
            afternoon: "ğŸŒ ä¸‹åˆå¥½",
            night: "æ—©ç‚¹ä¼‘æ¯",
            goodnight: "æ™šå®‰ ğŸ˜´",
        },
        sayhello2: [],
        sayhello3: {
            prefix: 'å¥½ä¹…ä¸è§ï¼Œ',
            back: 'æ¬¢è¿å†æ¬¡å›æ¥ï¼Œ',
        },
    },
    covercolor: {
        enable: false
    },
    comment: false,
    lightbox: 'fancybox',
    post_ai: false,
    right_menu: false,
    translate: {"translateDelay":0,"defaultEncoding":2},
    lure: false,
    expire: false,
};</script><!-- page-config head--><script id="config-diff">var PAGE_CONFIG = {
    is_post: true,
    is_page: false,
    is_home: false,
    page: '',
    toc: true,
    comment: false,
    ai_text: false,
    color: false,
}</script><!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css">
<!-- hexo injector head_end end --><meta name="generator" content="Hexo 7.2.0"></head><body id="body"><!-- universe--><!-- background img--><!-- loading--><!-- console--><!-- sidebar--><div id="sidebar" style="zoom: 1;"><div id="menu-mask" style="display: none;"></div><div id="sidebar-menus"><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">11</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">2</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">5</div></a></div></div></div><span class="sidebar-menu-item-title">åŠŸèƒ½</span><div class="sidebar-menu-item"><span class="darkmode_switchbutton menu-child" onclick="sco.switchDarkMode()"><i class="solitude fa-solid fa-circle-half-stroke"></i><span>æ˜¾ç¤ºæ¨¡å¼</span></span></div><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">project</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://github.com/SirTamago/P-qoq-bot" title="qqbot"><img class="nolazyload back-menu-item-icon" src="https://github.githubassets.com/assets/GitHub-Mark-ea2971cee799.png" alt="qqbot"><span class="back-menu-item-text">qqbot</span></a></div></div></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span>æ–‡åº“</span></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="solitude  fas fa-folder-closed"></i><span>å…¨éƒ¨æ–‡ç« </span></a></li><li><a class="site-page child" href="/categories/"><i class="solitude  fas fa-clone"></i><span>å…¨éƒ¨åˆ†ç±»</span></a></li><li><a class="site-page child" href="/tags/"><i class="solitude  fas fa-tags"></i><span>å…¨éƒ¨æ ‡ç­¾</span></a></li></ul></div></div><span class="sidebar-menu-item-title">æ ‡ç­¾</span><div class="card-widget card-tags card-archives card-webinfo card-allinfo"><div class="card-tag-cloud"><a href="/tags/Photography/">Photography<sup>1</sup></a><a href="/tags/record/">record<sup>5</sup></a><a href="/tags/%E5%BE%85%E5%AE%8C%E5%96%84/">å¾…å®Œå–„<sup>1</sup></a><a href="/tags/math/">math<sup>2</sup></a><a href="/tags/study/">study<sup>3</sup></a></div></div></div></div><!-- keyboard--><!-- righhtside--><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav class="show" id="nav"><div id="nav-group"><div id="blog_name"><div class="back-home-button" tabindex="-1"><i class="back-home-button-icon solitude fas fa-bars-progress"></i><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">project</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://github.com/SirTamago/P-qoq-bot" title="qqbot"><img class="nolazyload back-menu-item-icon" src="https://github.githubassets.com/assets/GitHub-Mark-ea2971cee799.png" alt="qqbot"><span class="back-menu-item-text">qqbot</span></a></div></div></div></div><a id="site-name" href="/" title="è¿”å›åšå®¢ä¸»é¡µ"><span class="title">Rimrose's Blog</span><i class="solitude fa-solid fa-home"></i></a></div><div id="page-name-mask"><div id="page-name"><a id="page-name-text" onclick="sco.toTop()">ç”µå­è®¾è®¡è‡ªåŠ¨åŒ–å®éªŒæŠ¥å‘Š</a></div></div><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span>æ–‡åº“</span></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="solitude  fas fa-folder-closed"></i><span>å…¨éƒ¨æ–‡ç« </span></a></li><li><a class="site-page child" href="/categories/"><i class="solitude  fas fa-clone"></i><span>å…¨éƒ¨åˆ†ç±»</span></a></li><li><a class="site-page child" href="/tags/"><i class="solitude  fas fa-tags"></i><span>å…¨éƒ¨æ ‡ç­¾</span></a></li></ul></div></div></div><div id="nav-left"></div><div id="nav-right"><div class="nav-button" id="nav-totop" onclick="sco.toTop()"><a class="totopbtn"><i class="solitude fa-solid fa-arrow-up"></i><span id="percent">0</span></a></div><div id="toggle-menu"><a class="site-page"><i class="solitude fa-solid fa-bars"></i></a></div></div></div></nav><div class="coverdiv" id="coverdiv"><img class="nolazyload" id="post-cover" src="/img/default.avif" alt="ç”µå­è®¾è®¡è‡ªåŠ¨åŒ–å®éªŒæŠ¥å‘Š"></div><div id="post-info"><div id="post-firstinfo"><div class="meta-firstline"><a class="post-meta-original" title="è¯¥æ–‡ç« ä¸ºåŸåˆ›æ–‡ç« ï¼Œæ³¨æ„ç‰ˆæƒåè®®">åŸåˆ›</a><span class="post-meta-categories"><a class="post-meta-categories" href="/categories/TEC/">TEC</a></span><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/study/"><span class="tags-name tags-punctuation"><i class="solitude fa-solid fa-hashtag"></i>study</span></a></div></div></div></div><h1 class="post-title">ç”µå­è®¾è®¡è‡ªåŠ¨åŒ–å®éªŒæŠ¥å‘Š</h1><div id="post-meta"><div class="meta-secondline"></div></div></div><section class="main-hero-waves-area waves-area"><svg class="waves-svg" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M -160 44 c 30 0 58 -18 88 -18 s 58 18 88 18 s 58 -18 88 -18 s 58 18 88 18 v 44 h -352 Z"></path></defs><g class="parallax"><use href="#gentle-wave" x="48" y="0"></use><use href="#gentle-wave" x="48" y="3"></use><use href="#gentle-wave" x="48" y="5"></use><use href="#gentle-wave" x="48" y="7"></use></g></svg></section></header><main class="layout" id="content-inner"><div id="post"><article class="post-content article-container"><p><a target="_blank" rel="noopener" href="https://xzqi2q6kpm.feishu.cn/docx/YJQ9dlY4NooN5zxSEK3c6LNlneb?from=from_copylink">ç”µå­è®¾è®¡è‡ªåŠ¨åŒ–-å®éªŒæŠ¥å‘Š</a></p>
<center><h1>å®éªŒä¸€ï¼šLEDæµæ°´ç¯è®¾è®¡</h1></center>
<h2 id="ä¸€ã€å®éªŒç›®çš„">ä¸€ã€å®éªŒç›®çš„</h2>
<ol>
<li>
<p>ç†Ÿæ‚‰QuartusIIå¼€å‘ç¯å¢ƒ</p>
</li>
<li>
<p>æŒæ¡FPGAå¼€å‘æµç¨‹</p>
</li>
</ol>
<h2 id="äºŒã€å®éªŒå†…å®¹åŠåŸç†">äºŒã€å®éªŒå†…å®¹åŠåŸç†</h2>
<h3 id="1-å®éªŒå†…å®¹">1. å®éªŒå†…å®¹</h3>
<p>é€šè¿‡è®¾è®¡è®¡æ•°å™¨ï¼Œå®ç°LEDæµæ°´ç¯çš„æ•ˆæœ</p>
<h3 id="2-å®éªŒåŸç†">2. å®éªŒåŸç†</h3>
<ul>
<li>LEDç¡¬ä»¶ç”µè·¯</li>
</ul>
<center><img src="https://images.rimrose.site/images/EDA_expt-1_led_test (2).png" alt="Fig.2.1 AX301 å¼€å‘æ¿LED éƒ¨åˆ†åŸç†å›¾"></center>
<p>ä»ä¸Šé¢çš„ LED éƒ¨åˆ†åŸç†å›¾å¯ä»¥çœ‹å‡ºï¼ŒLED ç”µè·¯æœ‰ä¸¤ä¸ªæ–¹å¼ï¼ŒAX301 å¼€å‘æ¿å°† IO ç»è¿‡ä¸€ä¸ªç”µé˜»å’Œ LED ä¸²è”æ¥åœ°ï¼ŒIO è¾“å‡ºé«˜ç”µå¹³ç‚¹äº® LEDã€‚å…¶ä¸­çš„ä¸²è”ç”µé˜»æ˜¯ä¸ºäº†é™åˆ¶ç”µæµã€‚</p>
<ul>
<li>ç¨‹åºè®¾è®¡</li>
</ul>
<p>FPGA çš„è®¾è®¡ä¸­é€šå¸¸ä½¿ç”¨è®¡æ•°å™¨æ¥è®¡æ—¶ï¼Œå¯¹äº 50Mhz çš„ç³»ç»Ÿæ—¶é’Ÿï¼Œä¸€ä¸ªæ—¶é’Ÿå‘¨æœŸæ˜¯ 20nsï¼Œé‚£ ä¹ˆè¡¨ç¤ºä¸€ç§’éœ€è¦ 50000000 ä¸ªæ—¶é’Ÿå‘¨æœŸï¼Œå¦‚æœä¸€ä¸ªæ—¶é’Ÿå‘¨æœŸè®¡æ•°å™¨ç´¯åŠ ä¸€æ¬¡ï¼Œé‚£ä¹ˆè®¡æ•°å™¨ä» 0 åˆ° 49999999 æ­£å¥½æ˜¯ 50000000 ä¸ªå‘¨æœŸï¼Œå°±æ˜¯ 1 ç§’çš„æ—¶é’Ÿã€‚ ç¨‹åºä¸­å®šä¹‰äº†ä¸€ä¸ª 32 ä½çš„è®¡æ•°å™¨ï¼š</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs Verilog"><span class="hljs-comment">//Define the time counter </span><br><span class="hljs-keyword">reg</span> [<span class="hljs-number">31</span>:<span class="hljs-number">0</span>] timer;<br></code></pre></td></tr></table></figure>
<p>æœ€å¤§å¯ä»¥è¡¨ç¤º 4294967295ï¼Œåå…­è¿›åˆ¶å°±æ˜¯ FFFFFFFFï¼Œå¦‚æœè®¡æ•°å™¨åˆ°æœ€å¤§å€¼ï¼Œå¯ä»¥è¡¨ç¤º 85.89934592 ç§’ã€‚ç¨‹åºè®¾è®¡ä¸­æ˜¯æ¯éš” 1 ç§’ LED å˜åŒ–ä¸€æ¬¡ï¼Œä¸€å…±æ¶ˆè€— 4 ç§’åšä¸€ä¸ªå¾ªç¯ã€‚</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs Verilog"><span class="hljs-keyword">always</span>@(<span class="hljs-keyword">posedge</span> clk <span class="hljs-keyword">or</span> <span class="hljs-keyword">negedge</span> rst_n)<br><span class="hljs-keyword">begin</span><br><span class="hljs-keyword">if</span> (rst_n == <span class="hljs-number">1&#x27;b0</span>) <br>timer &lt;= <span class="hljs-number">32&#x27;d0</span>; <br><span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (timer == <span class="hljs-number">32&#x27;d199_999_999</span>) <br>timer &lt;= <span class="hljs-number">32&#x27;d0</span>; <br><span class="hljs-keyword">else</span><br>timer &lt;= timer + <span class="hljs-number">32&#x27;d1</span>; <br><span class="hljs-keyword">end</span><br></code></pre></td></tr></table></figure>
<p>åœ¨ç¬¬ä¸€ç§’ã€ç¬¬äºŒç§’ã€ç¬¬ä¸‰ç§’ã€ç¬¬å››ç§’åˆ°æ¥çš„æ—¶å€™åˆ†åˆ«æ”¹å˜ LED çš„çŠ¶æ€ï¼Œå…¶ä»–æ—¶å€™éƒ½ä¿æŒåŸæ¥ çš„å€¼ä¸å˜ã€‚</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs Verilog"><span class="hljs-comment">// LED control</span><br><span class="hljs-keyword">always</span>@(<span class="hljs-keyword">posedge</span> clk <span class="hljs-keyword">or</span> <span class="hljs-keyword">negedge</span> rst_n)<br><span class="hljs-keyword">begin</span><br><span class="hljs-keyword">if</span> (rst_n == <span class="hljs-number">1&#x27;b0</span>)<br>led &lt;= <span class="hljs-number">4&#x27;b0000</span>; <br><span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (timer == <span class="hljs-number">32&#x27;d49_999_999</span>) <br>led &lt;= <span class="hljs-number">4&#x27;b0001</span>;<br><span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (timer == <span class="hljs-number">32&#x27;d99_999_999</span>) <br>led &lt;= <span class="hljs-number">4&#x27;b0010</span>;<br><span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (timer == <span class="hljs-number">32&#x27;d149_999_999</span>) <br>led &lt;= <span class="hljs-number">4&#x27;b0100</span>;<br><span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (timer == <span class="hljs-number">32&#x27;d199_999_999</span>) <br>led &lt;= <span class="hljs-number">4&#x27;b1000</span>;<br><span class="hljs-keyword">end</span><br></code></pre></td></tr></table></figure>
<h2 id="ä¸‰ã€å®éªŒæ­¥éª¤åŠç»“æœ">ä¸‰ã€å®éªŒæ­¥éª¤åŠç»“æœ</h2>
<h3 id="1-å»ºç«‹å·¥ç¨‹">1. å»ºç«‹å·¥ç¨‹</h3>
<p>ï¼ˆ1ï¼‰ å¯åŠ¨ Quartus (Quartus Prime 17.1) Lite Edition å¼€å‘ç¯å¢ƒï¼Œé€‰æ‹©èœå• File-&gt;New Project Wizerd</p>
<p>ï¼ˆ2ï¼‰ é€‰æ‹©â€œNext&gt;â€</p>
<p>ï¼ˆ3ï¼‰ æ·»åŠ å·¥ç¨‹è·¯å¾„ï¼Œå·¥ç¨‹åç§°ï¼Œé¡¶å±‚è®¾è®¡å®ä½“åç§°ï¼Œé¡¶å±‚è®¾è®¡å®ä½“åç§°é»˜è®¤å’Œå·¥ç¨‹åç§°ä¸€ è‡´ï¼Œå¯ä»¥ä¿®æ”¹ä¸ºä¸ä¸€è‡´ã€‚é¡¶å±‚è®¾è®¡å®ä½“åç§°åœ¨è®¾è®¡ä¸­å¿…é¡»å­˜åœ¨è€Œä¸”å’Œè¿™é‡Œè®¾ç½®çš„ä¸€è‡´ï¼Œ æœ¬å®éªŒé¡¶å±‚è®¾è®¡æŒ‡å®šä¸º led_testï¼Œè®¾è®¡ä¸­å°±è¦æœ‰ module led_testï¼Œå¤§å°å†™æ•æ„Ÿã€‚åœ¨ quartus è½¯ä»¶ä¸­ä¹Ÿå¯ä»¥æŒ‡å®šæŸä¸€ä¸ªæ¨¡å—ä¸ºé¡¶å±‚æ¨¡å—ã€‚</p>
<p>ï¼ˆ4ï¼‰ å·¥ç¨‹ç±»å‹é€‰æ‹©ç©ºå·¥ç¨‹</p>
<p>ï¼ˆ5ï¼‰ æ·»åŠ æ–‡ä»¶ï¼Œè¿™ä¸ªæ—¶å€™æ²¡æœ‰ä»»ä½•è®¾è®¡æ–‡ä»¶ï¼Œç›´æ¥ Next</p>
<p>ï¼ˆ6ï¼‰ èŠ¯ç‰‡é€‰æ‹©ï¼ŒAX301 å¼€å‘æ¿ å™¨ä»¶é€‰æ‹© Cyclone IV Eï¼ˆEP4CE6F17C8ï¼‰</p>
<p>ï¼ˆ7ï¼‰ EDA å·¥å…·è®¾ç½®ï¼Œè¿™é‡Œé»˜è®¤å³å¯</p>
<p>ï¼ˆ8ï¼‰ å®Œæˆå·¥ç¨‹å‘å¯¼</p>
<p>ï¼ˆ9ï¼‰ è¿”å› Quartus å·¥ä½œç•Œé¢</p>
<h3 id="2-ç¼–å†™ä»£ç ">2. ç¼–å†™ä»£ç </h3>
<p>ï¼ˆ1ï¼‰ æ–°å»º Verilog HDL æ–‡ä»¶</p>
<p>ï¼ˆ2ï¼‰ ç¼–å†™ Verilog ä»£ç </p>
<p>ï¼ˆ3ï¼‰ ä»£ç å†™å…¥å®Œæˆåç‚¹å‡»ä¿å­˜ã€‚è¿™é‡Œé»˜è®¤å°†è¿™ä¸ªæ–‡ä»¶æ·»åŠ åˆ°å·¥ç¨‹ä¸­ã€‚</p>
<p>ï¼ˆ4ï¼‰ æŸ¥çœ‹å·¥ç¨‹é‡Œçš„æ–‡ä»¶ï¼Œåœ¨å·¥ç¨‹å¯¼èˆªçš„ä¸‹æ‹‰èœå•é‡Œé€‰æ‹© Files å³å¯ã€‚</p>
<p>ï¼ˆ5ï¼‰æ–‡ä»¶çš„æ“ä½œã€‚é€‰æ‹©æŸä¸ªæ–‡ä»¶ï¼Œå³é”®ï¼Œå¯ä»¥çœ‹åˆ°ä¸€äº›æ“ä½œé€‰é¡¹ï¼Œâ€œRemove File from Projectâ€ï¼Œå°†æ–‡ä»¶ç§»é™¤å·¥ç¨‹ï¼Œâ€œSet as Top-Level Entityâ€è®¾ç½®ä¸ºé¡¶å±‚å®ä½“ï¼Œå¦‚æœå»ºç«‹å·¥ ç¨‹æ—¶æŒ‡å®šçš„é¡¶å±‚å®ä½“åç§°ä¸å¯¹ï¼Œå¯ä»¥åœ¨è¿™é‡Œä¿®æ”¹ã€‚æœ¬å®éªŒè¿™é‡Œæ— éœ€åšä»»ä½•ä¿®æ”¹å’Œæ“ä½œã€‚</p>
<h3 id="3-å…¶ä»–è®¾ç½®">3. å…¶ä»–è®¾ç½®</h3>
<p>ï¼ˆ1ï¼‰è®¾ç½®æœªç”¨ç®¡è„šå’Œé»˜è®¤ç”µå¹³æ ‡å‡†ï¼Œé€‰æ‹© Assignments -&gt; Device å³å¯æ‰“å¼€å™¨ä»¶é…ç½®ï¼Œå¦‚æœ å‰é¢é€‰æ‹©é€‰æ‹©ä¸æ­£ç¡®ï¼Œè¿™é‡Œå¯ä»¥é‡æ–°é€‰æ‹©å™¨ä»¶ã€‚</p>
<p>ï¼ˆ2ï¼‰ç‚¹å‡»â€œDevice and Pin Optionsâ€åœ¨â€œUnused Pinsâ€é€‰é¡¹ä¸­&quot;Reserve unused pins&quot;,è®¾ç½®ä¸º â€œAs input tri-statedâ€ï¼Œè¿™é‡Œæ˜¯æŠŠæ²¡æœ‰ä½¿ç”¨çš„ç®¡è„šåšä¸ºä¸‰æ€è¾“å…¥ã€‚</p>
<p>ï¼ˆ3ï¼‰åœ¨â€œVoltageâ€é€‰é¡¹ï¼Œå°†â€œDefault I/O standard:â€è®¾ç½®ä¸ºâ€œ3.3-V LVTTLâ€ï¼Œè¿™ä¸ªè®¾ç½®æ˜¯ å’Œ FPGA ç¡¬ä»¶è®¾è®¡çš„ bank ç”µå‹æœ‰å…³ï¼Œé»‘é‡‘çš„å¤§éƒ¨åˆ†å¼€å‘æ¿çš„ IO BNAK ç”µå‹ä¸º 3.3Vï¼Œæ‰€ ä»¥è®¾ç½®ä¸ºâ€œ3.3-V LVTTLâ€ã€‚è¾“å‡ºç”µå‹å’Œè®¾ç½®æ²¡æœ‰å…³ç³»ï¼Œå¦‚æœ BANK ç”µå‹æ˜¯ 3.3Vï¼Œä½ è¿™ é‡Œè®¾ç½® 2.5Vï¼Œä¹Ÿä¸ä¼šæ”¹å˜ IO è¾“å‡ºçš„ç”µå‹å¹…åº¦ã€‚è¿™é‡Œè®¾ç½®å®Œæˆä»¥å IO çš„é»˜è®¤ç”µå‹ä¸º â€œ3.3-V LVTTLâ€ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥æ ¹æ®éœ€è¦ä¸ºæ¯ä¸ª IO åˆ†é…ä¸ä¸€æ ·çš„ IO ç”µå¹³æ ‡å‡†ã€‚</p>
<p>ï¼ˆ4ï¼‰å¤šç”¨é€”ç®¡è„šè®¾ç½®ã€‚åœ¨é€‰é¡¹â€œDual-Purpose Pinsâ€ä¸­è®¾ç½®å¤šç”¨é€” IOï¼Œå…¨éƒ¨åšä¸ºæ™®é€š IOã€‚ è¿™äº›å¤šç”¨é€”ç®¡è„šï¼Œåœ¨ FPGA é…ç½®é˜¶æ®µæœ‰ç‰¹æ®Šç”¨é€”ï¼Œé…ç½®å®Œæˆåå¯ä»¥åšä¸ºæ™®é€š IOã€‚</p>
<p>ï¼ˆ5ï¼‰é¢„ç¼–è¯‘ã€‚æ²¡æœ‰åˆ†é…ç®¡è„šï¼Œä½†æ˜¯æˆ‘ä»¬éœ€è¦é¢„ç¼–è¯‘ä¸€ä¸‹ï¼ˆå®Œæˆç¬¬ä¸€é˜¶æ®µç»¼åˆè¿‡ç¨‹ï¼‰ï¼Œè®© quartus åˆ†æè®¾è®¡ä¸­çš„è¾“å…¥è¾“å‡ºç®¡è„šã€‚ç¼–è¯‘è¿‡ç¨‹ä¸­ä¿¡æ¯æ˜¾ç¤ºçª—å£ä¸æ–­æ˜¾ç¤ºå‡ºå„ç§ä¿¡æ¯ï¼Œ å¦‚æœå‡ºç°çº¢è‰²ï¼Œè¡¨ç¤ºæœ‰é”™è¯¯ï¼ŒåŒå‡»è¿™æ¡ä¿¡æ¯å¯ä»¥å®šä½å…·ä½“é”™è¯¯ä½ç½®ã€‚</p>
<p>ï¼ˆ6ï¼‰IO ç®¡è„šåˆ†é…ã€‚ç®¡è„šåˆ†é…çš„ç›®çš„æ˜¯ä¸ºè®¾è®¡å’Œå®é™…çš„ç¡¬ä»¶ç”µè·¯å…³è”èµ·æ¥ï¼Œè¿™é‡Œçš„è¿æ¥å…³ç³» ä»ç¡¬ä»¶åŸç†å›¾å¾—æ¥ã€‚</p>
<p>ï¼ˆ7ï¼‰ åœ¨â€œLocationâ€åˆ—å¡«å…¥ ledã€æ—¶é’Ÿã€çš„ç®¡è„šåç§°ï¼Œéœ€è¦æ³¨æ„æ˜¯ï¼šä¸€å®šè¦åœ¨â€œLocationâ€ åˆ—å¡«å†™ã€‚å°æŠ€å·§ï¼šè¿™ä¸ªè¡¨æ ¼å¯ä»¥åƒ EXCEL è¡¨æ ¼ä¸€æ ·å¤åˆ¶ç²˜è´´ï¼Œå¯ä»¥ä»å…¶ä»–å·¥ç¨‹çš„ç®¡è„š åˆ†é…å¤åˆ¶è¿‡æ¥ï¼Œç„¶åç²˜è´´ï¼Œä¹Ÿå¯ä»¥åœ¨ä¸€ä¸ª EXCEL è¡¨æ ¼é‡Œå¤åˆ¶è¿‡æ¥ã€‚ç®¡è„šåˆ†é…å®Œæˆä»¥å å…³é—­çª—å£å°±å¯ä»¥ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼šæ¯ä¸ª IO éƒ½å¿…é¡»åˆ†é…ç®¡è„šï¼Œå¦‚æœæœ‰æœªåˆ†é…çš„ IOï¼Œè½¯ ä»¶å¯èƒ½ä¼šéšæœºåˆ†é…ï¼Œé€ æˆä¸å¯é¢„æ–™çš„åæœï¼Œä¸¥é‡æ—¶å¯çƒ§å FPGA èŠ¯ç‰‡ã€‚</p>
<h3 id="4-ç¼–è¯‘ä¸‹è½½">4. ç¼–è¯‘ä¸‹è½½</h3>
<p>ï¼ˆ1ï¼‰å†æ¬¡ç¼–è¯‘ã€‚ä¸Šæ¬¡ç¼–è¯‘æ—¶è¿˜æ²¡æœ‰åˆ†é…ç®¡è„šï¼Œåˆ†é…ç®¡è„šåæˆ‘ä»¬åœ¨ä»»åŠ¡æµç¨‹çª—å£å¯ä»¥çœ‹åˆ°åª æœ‰ç¬¬ä¸€ä¸‹æµç¨‹â€œç»¼åˆâ€æ˜¯â€œâˆšâ€çŠ¶æ€ï¼Œå…¶ä»–éƒ½æ˜¯â€œï¼Ÿâ€çŠ¶æ€ï¼Œâ€œï¼Ÿâ€çŠ¶æ€è¡¨ç¤ºéœ€è¦é‡ æ–°ç¼–è¯‘æ‰è¡Œã€‚ä¸ºäº†æ–¹ä¾¿ï¼Œè¿™é‡ŒåŒå‡»â€œCompile Designâ€ï¼Œå®Œæˆå…¨éƒ¨ç¼–è¯‘æµç¨‹ã€‚</p>
<p>ï¼ˆ2ï¼‰ç¼–è¯‘å®Œæˆä»¥åå¯ä»¥çœ‹åˆ°ä¸€ä¸ªç¼–è¯‘æŠ¥å‘Šï¼Œä¸»è¦æŠ¥å‘Šå„ç§èµ„æºçš„ä½¿ç”¨æƒ…å†µã€‚åœ¨ output_files æ–‡ä»¶å¤¹æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ä¸€ä¸ª test_led.sof æ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶å¯ä»¥é€šè¿‡ JTAG æ–¹å¼ä¸‹è½½åˆ° FPGA è¿è¡Œï¼Œä½†ä¸èƒ½ç›´æ¥å›ºåŒ–åˆ° Flashã€‚</p>
<p>ï¼ˆ3ï¼‰å°†ä¸‹è½½å™¨è¿æ¥ PC å’Œå¼€å‘æ¿ï¼Œæ¥é€šç”µæºï¼ˆæ³¨æ„è¦å…ˆæ’ä¸‹è½½å™¨çš„ JTAG æ’çº¿ï¼Œç„¶åå† ä¸Šç”µï¼‰</p>
<p>ï¼ˆ4ï¼‰æ‰“å¼€ä¸‹è½½ç•Œé¢ï¼Œè¿™é‡Œé€šè¿‡å·¥å…·æ å¿«æ·æ–¹å¼ç‚¹å‡»ä¸‹è½½æŒ‰é’®ã€‚å¾ˆå¤šæ“ä½œéƒ½å¯ä»¥åœ¨è¿™é‡Œå¿«é€Ÿ ç‚¹å‡»è¿›è¡Œã€‚</p>
<p>ï¼ˆ5ï¼‰æ­£å¸¸æƒ…å†µä¸‹å¼¹å‡ºçš„çª—å£ Mode å·²ç»é€‰æ‹© JTAG æ¨¡å¼ï¼Œä¸‹è½½å™¨å·²ç»è¯†åˆ«åˆ°äº†ï¼Œå¹¶ä¸”ä¸‹è½½ æ–‡ä»¶éƒ½å·²ç»æ‰¾å¥½ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼šèŠ¯ç‰‡å‹å·è·Ÿå¼€å‘æ¿å¿…é¡»ä¸€è‡´ï¼Œå¦åˆ™ä¼šæ— æ³•ä¸‹è½½ï¼›ä¸‹ è½½çš„ sof æ–‡ä»¶ä¸€æ¬¡åªèƒ½æ·»åŠ ä¸€ä¸ªã€‚ä¸€åˆ‡æ­£å¸¸ï¼Œç‚¹å‡»â€œstartâ€æŒ‰é’®ï¼Œè¿›åº¦æ¡å¼€å§‹æ»šåŠ¨ï¼Œ é‡åˆ°é”™è¯¯æ—¶ï¼ŒQuartus ä¿¡æ¯çª—å£ä¼šæ˜¾ç¤ºå‡ºå…·ä½“çš„é”™è¯¯ã€‚</p>
<p>ï¼ˆ6ï¼‰å¦‚æœæ²¡æœ‰è¯†åˆ«åˆ°ä¸‹è½½å™¨ï¼Œå¯ä»¥ç‚¹å‡»â€œHardware Setupâ€ï¼ŒåŒå‡»åˆ—è¡¨ä¸­çš„ä¸‹è½½å™¨å³å¯ã€‚ å¦‚æœåˆ—è¡¨ä¸­æ²¡æœ‰ä»»ä½•ä¸‹è½½å™¨ï¼Œæ£€æŸ¥è®¾å¤‡ç®¡ç†å™¨é‡Œæ˜¯ä¸æ˜¯æœ‰â€œAltera USB-Blasterâ€ï¼Œå¦‚ æœç¡¬ä»¶è®¾å¤‡ç®¡ç†å™¨ä¸­æœ‰ï¼ŒQuartus æ— æ³•è¯†åˆ«ï¼Œé€šå¸¸æ˜¯è£…äº†å¤šä¸ªç‰ˆæœ¬çš„ Quartus é€ æˆçš„ã€‚</p>
<h3 id="5-å›ºåŒ–ç¨‹åºåˆ°flash">5. å›ºåŒ–ç¨‹åºåˆ°flash</h3>
<p>åœ¨é»‘é‡‘ FPGA å¼€å‘æ¿ä¸­ä½¿ç”¨ SPI Flash å›ºåŒ– FPGA ç¨‹åºã€‚</p>
<h4 id="5-1-è½¬æ¢jicæ–‡ä»¶">5.1. è½¬æ¢jicæ–‡ä»¶</h4>
<p>ï¼ˆ1ï¼‰ Quartus é‡Œé€‰æ‹©èœå•â€œFile -&gt; Convert Programming Filesâ€¦â€</p>
<p>ï¼ˆ2ï¼‰ é€‰æ‹©â€œProgramming file typeâ€ä¸ºâ€œJTAG Indirect Configuration File(.jic)â€ã€‚ â€œConfiguration deviceâ€æ ¹æ®å¼€å‘æ¿å‹å·é€‰æ‹©ï¼ŒAX301 å¼€å‘æ¿ã€AX4010 å¼€å‘æ¿é€‰æ‹© EPCS16ï¼ˆæŒ‡ 16M Flashï¼‰ï¼ŒAX515 å¼€å‘æ¿ã€AX530 å¼€å‘æ¿é€‰æ‹© EPCS64ï¼ˆæŒ‡ 64M Flashï¼‰ã€‚</p>
<p>ï¼ˆ3ï¼‰ â€œFlash Loaderâ€é€‰ä¸­ï¼Œç‚¹å‡»â€œAdd Deviceâ€</p>
<p>ï¼ˆ4ï¼‰ å™¨ä»¶é€‰æ‹©æ ¹æ®å¼€å‘æ¿å‹å·é€‰æ‹©ï¼ŒAX301 å¼€å‘æ¿é€‰æ‹©â€œEP4CE6â€</p>
<p>ï¼ˆ5ï¼‰ é€‰æ‹©â€œSOF Dataâ€æ ï¼Œç‚¹å‡»â€œAdd Fileâ€¦â€</p>
<p>ï¼ˆ6ï¼‰ é€‰æ‹©è¦å›ºåŒ–çš„ sof æ–‡ä»¶, è¿™é‡Œæˆ‘ä»¬é€‰æ‹©å‰é¢ç”Ÿæˆçš„æµæ°´ç¯ led_test.sof æ–‡ä»¶ã€‚</p>
<p>ï¼ˆ7ï¼‰ ç‚¹å‡»â€œGenrateâ€å°±å¯ä»¥ç”Ÿæˆ jic æ–‡ä»¶</p>
<h4 id="5-2-å›ºåŒ–åˆ°flash">5.2. å›ºåŒ–åˆ°flash</h4>
<p>ï¼ˆ1ï¼‰ æ‰“å¼€ä¸‹è½½ç®¡ç†ç•Œé¢ï¼Œåˆ é™¤å…¶ä»–å·²æœ‰çš„ä¸‹è½½æ–‡ä»¶ï¼Œæ·»åŠ ä¸Šé¢ç”Ÿæˆçš„ jic æ–‡ä»¶ï¼Œæ³¨æ„ï¼Œåªä¿ ç•™ä¸€ä¸ª jic æ–‡ä»¶ã€‚åœ¨&quot;Program/Configure&quot;æ‰“é’©â€œâˆšâ€ã€‚ç‚¹å‡»â€œStartâ€æŒ‰é’®ã€‚</p>
<p>ï¼ˆ2ï¼‰ ä¸‹è½½ Flash åï¼Œæ–­ç”µé‡å¯å¼€å‘æ¿ï¼Œç¨‹åºå°±å¯ä»¥è¿è¡Œäº†</p>
<h3 id="6-æ“¦é™¤Flashä¸­å·²æœ‰çš„ç¨‹åº">6. æ“¦é™¤Flashä¸­å·²æœ‰çš„ç¨‹åº</h3>
<p>ï¼ˆ1ï¼‰ å¦‚æœè¦æ“¦é™¤ Flash ä¸­çš„ç¨‹åºï¼Œå…ˆæ·»åŠ ä¸€ä¸ª jic æ–‡ä»¶ï¼ˆåªæœ‰ä¸€ä¸ª jic æ–‡ä»¶ï¼‰ï¼Œé€‰æ‹©â€œEraseâ€ åˆ—ï¼Œç‚¹å‡»â€œStartâ€ï¼Œå®Œæˆæ“¦å†™ã€‚</p>
<center><img src="https://images.rimrose.site/images/EDA_expt-1_led_test-flow_summary.png" alt="Fig.2.2 FlowSummary"></center>
<center><img src="https://images.rimrose.site/images/EDA_expt-1_led_test-RTL.png" alt="Fig.2.3 RTLç”µè·¯å›¾" title=""></center>
<center><img src="https://images.rimrose.site/images/EDA_expt-1_led_test-pin_planner.png" alt="Fig.2.4 PinPlanner" title=""></center>
<h2 id="å››ã€å®éªŒä¸­é‡åˆ°çš„é—®é¢˜åŠè§£å†³æ–¹æ³•">å››ã€å®éªŒä¸­é‡åˆ°çš„é—®é¢˜åŠè§£å†³æ–¹æ³•</h2>
<p>è·Ÿç€å®éªŒæ­¥éª¤ä¸€æ¬¡å®ç°ï¼Œæ‰€ä»¥æš‚æ— é‡åˆ°é—®é¢˜ã€‚</p>
<h2 id="äº”ã€æºç¨‹åºå’Œtestbenchä»£ç ">äº”ã€æºç¨‹åºå’Œtestbenchä»£ç </h2>
<blockquote>
<p>led_test.v</p>
</blockquote>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs Verilog"><span class="hljs-meta">`<span class="hljs-keyword">timescale</span> 1ns / 1ps</span><br><span class="hljs-keyword">module</span> led_test<br>(<br><span class="hljs-keyword">input</span> clk, <span class="hljs-comment">// system clock 50Mhz on board</span><br><span class="hljs-keyword">input</span> rst_n, <span class="hljs-comment">// reset ,low active</span><br><span class="hljs-keyword">output</span> <span class="hljs-keyword">reg</span>[<span class="hljs-number">3</span>:<span class="hljs-number">0</span>] led <span class="hljs-comment">// LED,use for control the LED signal on board</span><br>);<br><span class="hljs-comment">//define the time counter</span><br><span class="hljs-keyword">reg</span> [<span class="hljs-number">31</span>:<span class="hljs-number">0</span>] timer;<br><span class="hljs-comment">// cycle counter:from 0 to 4 sec</span><br><span class="hljs-keyword">always</span>@(<span class="hljs-keyword">posedge</span> clk <span class="hljs-keyword">or</span> <span class="hljs-keyword">negedge</span> rst_n)<br><span class="hljs-keyword">begin</span><br><span class="hljs-keyword">if</span> (rst_n == <span class="hljs-number">1&#x27;b0</span>)<br>timer &lt;= <span class="hljs-number">32&#x27;d0</span>; <span class="hljs-comment">//when the reset signal valid,time counter clearing</span><br><span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (timer == <span class="hljs-number">32&#x27;d199_999_999</span>) <span class="hljs-comment">//4 seconds count(50M*4-1=199999999)</span><br>timer &lt;= <span class="hljs-number">32&#x27;d0</span>; <span class="hljs-comment">//count done,clearing the time counter</span><br><span class="hljs-keyword">else</span><br>timer &lt;= timer + <span class="hljs-number">32&#x27;d1</span>; <span class="hljs-comment">//timer counter = timer counter + 1</span><br><span class="hljs-keyword">end</span><br><span class="hljs-comment">// LED control</span><br><span class="hljs-keyword">always</span>@(<span class="hljs-keyword">posedge</span> clk <span class="hljs-keyword">or</span> <span class="hljs-keyword">negedge</span> rst_n)<br><span class="hljs-keyword">begin</span><br><span class="hljs-keyword">if</span> (rst_n == <span class="hljs-number">1&#x27;b0</span>)<br>led &lt;= <span class="hljs-number">4&#x27;b0000</span>; <span class="hljs-comment">//when the reset signal active</span><br><span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (timer == <span class="hljs-number">32&#x27;d49_999_999</span>) <span class="hljs-comment">//time counter count to 1st sec,LED1 lighten</span><br>led &lt;= <span class="hljs-number">4&#x27;b0001</span>;<br><span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (timer == <span class="hljs-number">32&#x27;d99_999_999</span>) <span class="hljs-comment">//time counter count to 2nd sec,LED2 lighten</span><br>led &lt;= <span class="hljs-number">4&#x27;b0010</span>;<br><span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (timer == <span class="hljs-number">32&#x27;d149_999_999</span>) <span class="hljs-comment">//time counter count to 3rd sec,LED3 lighten</span><br>led &lt;= <span class="hljs-number">4&#x27;b0100</span>;<br><span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (timer == <span class="hljs-number">32&#x27;d199_999_999</span>) <span class="hljs-comment">//time counter count to 4th sec,LED4 lighten</span><br>led &lt;= <span class="hljs-number">4&#x27;b1000</span>;<br><span class="hljs-keyword">end</span><br><span class="hljs-keyword">endmodule</span><br></code></pre></td></tr></table></figure>
<h2 id="å…­ã€å¿ƒå¾—ä½“ä¼š">å…­ã€å¿ƒå¾—ä½“ä¼š</h2>
<p>åœ¨å­¦ä¹ FPGAå¼€å‘è¿‡ç¨‹ä¸­ï¼Œæˆ‘å°è¯•äº†åŸºäºAX301å¼€å‘æ¿çš„LEDæµæ°´ç¯è®¾è®¡å®éªŒã€‚ä»¥ä¸‹æ˜¯æˆ‘çš„å¿ƒå¾—ä½“ä¼šï¼š</p>
<p>AX301å¼€å‘æ¿æ¦‚è¿°ï¼š</p>
<p>AX301æ˜¯ä¸€æ¬¾åŸºç¡€çš„å­¦ç”Ÿå®éªŒæ¿ï¼Œç”¨äºå­¦ä¹ FPGAå¼€å‘ã€‚å®ƒé‡‡ç”¨ALTERAå…¬å¸çš„CYCLONE IVç³»åˆ—FPGAï¼Œå‹å·ä¸ºEP4CE6F17C8ï¼Œå…·æœ‰256ä¸ªå¼•è„šã€‚AX301çš„èµ„æºåŒ…æ‹¬é€»è¾‘å•å…ƒã€ä¹˜æ³•å™¨ã€RAMã€IOå£ç­‰ã€‚</p>
<p>æµæ°´ç¯å®éªŒï¼š</p>
<p>æˆ‘ä½¿ç”¨Quartus IIè½¯ä»¶ç¼–å†™äº†æµæ°´ç¯å®éªŒçš„Verilogä»£ç ã€‚é€šè¿‡è®¡æ•°å™¨å¯¹ç³»ç»Ÿæ—¶é’Ÿè¿›è¡Œè®¡æ•°ï¼Œå®ç°LEDç¯çš„å¾ªç¯ç‚¹äº®å’Œç†„ç­ã€‚é€šè¿‡ç§»ä½å¯„å­˜å™¨æ§åˆ¶IOå£çš„é«˜ä½ç”µå¹³ï¼Œæ”¹å˜LEDçš„æ˜¾ç¤ºçŠ¶æ€ã€‚</p>
<p>å¼€å‘æ¿ä¸‹è½½æµç¨‹ï¼š</p>
<p>ç¼–è¯‘Verilogä»£ç å¹¶è¿›è¡Œå¼•è„šåˆ†é…ã€‚ä½¿ç”¨USB-Blasterä¸‹è½½æ–‡ä»¶åˆ°å¼€å‘æ¿ã€‚æ³¨æ„å°†sofæ–‡ä»¶è½¬åŒ–ä¸ºjicæ–‡ä»¶ï¼Œä»¥é¿å…æ‰ç”µä¸¢å¤±æ•°æ®ã€‚</p>
<p>AX301å¼€å‘æ¿æ˜¯å­¦ä¹ FPGAçš„è‰¯å¥½é€‰æ‹©ï¼Œæµæ°´ç¯å®éªŒå¸®åŠ©æˆ‘æ›´å¥½åœ°ç†è§£äº†FPGAå¼€å‘å’Œè°ƒè¯•è¿‡ç¨‹ã€‚</p>
<p>ï¼ˆå¿ƒå¾—ä½“ä¼šçš„å†…å®¹ç”±newbingç”Ÿæˆï¼Œæœ›çŸ¥æ‚‰ï¼‰</p>
<hr>
<center><h1>å®éªŒäºŒï¼šæ•°ç ç®¡åŠ¨æ€æ˜¾ç¤º</h1></center>
<h2 id="ä¸€ã€å®éªŒç›®çš„-2">ä¸€ã€å®éªŒç›®çš„</h2>
<ol>
<li>
<p>ç†Ÿæ‚‰æ•°ç ç®¡åŠ¨æ€æ˜¾ç¤ºåŸç†</p>
</li>
<li>
<p>æŒæ¡ç»„åˆç”µè·¯å’Œæ—¶åºç”µè·¯è®¾è®¡æ–¹æ³•</p>
</li>
</ol>
<h2 id="äºŒã€å®éªŒå†…å®¹åŠåŸç†-2">äºŒã€å®éªŒå†…å®¹åŠåŸç†</h2>
<h3 id="1-å®éªŒå†…å®¹-2">1. å®éªŒå†…å®¹</h3>
<p>ä¸¤ä½æ•°ç ç®¡åŠ¨æ€æ˜¾ç¤º</p>
<h3 id="2-å®éªŒåŸç†-2">2. å®éªŒåŸç†</h3>
<h4 id="2-1-ç¡¬ä»¶ä»‹ç»">2.1. ç¡¬ä»¶ä»‹ç»</h4>
<p>å¼€å‘æ¿ä¸Šå®‰è£…äº† 6 ä¸ªå…±é˜³æ•°ç ç®¡ï¼Œå¯ä»¥æ˜¾ç¤º 6 ä¸ªæ•°å­—(åŒ…å«å°æ•°ç‚¹) ã€‚ç”µè·¯ç”¨ PNP ç®¡æ¥åå‘é©± åŠ¨å¹¶ä¸”æ§åˆ¶åˆ—æ‰«æä¿¡å·ï¼ˆSEL0_T~SEL5_Tï¼‰æ¥é€‰æ‹©å“ªä¸ªæ•°ç ç®¡ã€‚è€Œä¸”æ‰€æœ‰çš„ 6 ä¸ªæ•°ç ç®¡çš„â€œæ®µé€‰ä¿¡ å·â€ï¼ˆLEDA â€¦ LEDHï¼‰éƒ½å…±ç”¨é©±åŠ¨å¼•è„š(LED_A~LEDH)ã€‚æ•°ç ç®¡çš„æ‰€æœ‰é©±åŠ¨ä¿¡å·éƒ½æ˜¯â€œä½ç”µå¹³æœ‰æ•ˆâ€ã€‚ å…·ä½“çš„åŸç†å›¾è®¾è®¡å¦‚ä¸‹å›¾æ‰€ç¤º:</p>
<center><img src="https://images.rimrose.site/images/EDA_expt-2_Fig2.1.png" alt="Fig-2.1 AX301å¼€å‘æ¿æ•°ç ç®¡ç”µè·¯"></center>
<h4 id="2-2-æ•°ç ç®¡æ‰«æåŸç†">2.2. æ•°ç ç®¡æ‰«æåŸç†</h4>
<p>å•ä¸ªæ•°ç ç®¡å¯ä»¥é‡‡ç”¨é™æ€æ˜¾ç¤ºæ–¹å¼ï¼Œå¦‚å›¾æ‰€ç¤ºï¼Œæ•°ç ç®¡è¢«åˆ†æˆ aã€bã€cã€dã€eã€fã€g å’Œå°æ•° ç‚¹ï¼Œæ¯æ®µå¯ä»¥å•ç‹¬æ§åˆ¶äº®ç­ï¼Œé€šè¿‡ç‚¹äº®ä¸åŒçš„æ®µæ˜¾ç¤ºä¸åŒçš„æ•°å­—å’Œå­—ç¬¦ã€‚</p>
<center><img src="https://images.rimrose.site/images/EDA_expt-2_Fig2.2.jpg" alt="Fig-2.2"></center>
<p>å¯¹äºå…±é˜³æçš„æ•°ç ç®¡ï¼Œæ˜¾ç¤ºæ•°å­—å’Œå­—ç¬¦çš„ç¼–ç å¦‚ä¸‹ï¼š</p>
<center><img src="https://images.rimrose.site/images/EDA_expt-2_Fig2.3.jpg" alt="Fig-2.3"></center>
<div></div>
<center><img src="https://images.rimrose.site/images/EDA_expt-2_Fig2.4.png" alt="Fig-2.4"></center>
<p>å¯¹äºå¤šä½æ•°ç ç®¡ï¼Œåˆ©ç”¨è§†è§‰æš‚ç•™åŸç†ï¼Œå¿«é€Ÿäº¤æ›¿æ˜¾ç¤ºï¼Œè®©çœ¼ç›çœ‹ä¸Šå»æ˜¯å¤šä¸ªæ•°ç ç®¡åŒæ—¶æ˜¾ç¤ºçš„ã€‚</p>
<center><img src="https://images.rimrose.site/images/EDA_expt-2_Fig2.5.jpg" alt="Fig-2.5"></center>
<div></div>
<center><img src="https://images.rimrose.site/images/EDA_expt-2_Fig2.6.jpg" alt="Fig-2.6"></center>
<h2 id="ä¸‰ã€å®éªŒæ­¥éª¤åŠç»“æœ-2">ä¸‰ã€å®éªŒæ­¥éª¤åŠç»“æœ</h2>
<h3 id="1-ç¨‹åºè®¾è®¡">1. ç¨‹åºè®¾è®¡</h3>
<p>æœ¬å®éªŒè®¾è®¡ä¸€ä¸ª 2 ä½å…­åè¿›åˆ¶è®¡æ•°å™¨æ¨¡å—ï¼ˆç”±ä¸€ä¸ªåè¿›åˆ¶è®¡æ•°å™¨å’Œä¸€ä¸ªå…­è¿›åˆ¶è®¡æ•°å™¨å®ç°ï¼‰ï¼Œç„¶åé€šè¿‡è¯‘ç æ¨¡å—è¯‘ç åé€åˆ°æ•°ç ç®¡æ‰«ææ¨¡å—æ‰«ææ˜¾ç¤ºã€‚</p>
<h3 id="2-æ¨¡å—è®¾è®¡">2. æ¨¡å—è®¾è®¡</h3>
<h4 id="2-1-è¯‘ç æ¨¡å—">2.1. è¯‘ç æ¨¡å—</h4>
<p>ä¸»è¦ä½œç”¨æ˜¯å°†äºŒè¿›åˆ¶ç è½¬æ¢æˆæ•°ç ç®¡çš„æ®µæ§åˆ¶ä¿¡å·ã€‚</p>
<center><img src="https://images.rimrose.site/images/EDA_expt-2_Fig2.7.png" alt="Fig-2.7 è¯‘ç æ¨¡å—ï¼ˆseg_decoderï¼‰ç«¯å£"></center>
<h4 id="2-2-æ•°ç ç®¡æ‰«ææ¨¡å—">2.2. æ•°ç ç®¡æ‰«ææ¨¡å—</h4>
<p>å°†å¤šä½æ•°ç ç®¡çš„æ®µæ§åˆ¶ä¿¡å·åˆ†æ—¶é€å‡ºã€‚</p>
<center><img src="https://images.rimrose.site/images/EDA_expt-2_Fig2.8.png" alt="Fig-2.8 æ•°ç ç®¡æ‰«ææ¨¡å—ï¼ˆseg_scanï¼‰ç«¯å£"></center>
<h4 id="2-3-æ¨¡-10-è®¡æ•°å™¨æ¨¡å—">2.3. æ¨¡ 10 è®¡æ•°å™¨æ¨¡å—</h4>
<p>æ¨¡å—æœ‰åŒæ­¥å¤ä½ï¼Œè®¡æ•°ä½¿èƒ½ï¼Œè¿›ä½è¾“å‡ºåŠŸèƒ½ï¼Œè®¡æ•°å€¼ä» 0-9ï¼Œå¹¶åœ¨ç­‰äº 9 æ—¶è¿›ä½ã€‚</p>
<h4 id="2-4-æ¨¡-6-è®¡æ•°å™¨æ¨¡å—">2.4. æ¨¡ 6 è®¡æ•°å™¨æ¨¡å—</h4>
<p>æ¨¡å—æœ‰åŒæ­¥å¤ä½ï¼Œè®¡æ•°ä½¿èƒ½ï¼Œè¿›ä½è¾“å‡ºåŠŸèƒ½ï¼Œè®¡æ•°å€¼ä» 0-5ï¼Œå¹¶åœ¨ç­‰äº 5 æ—¶è¿›ä½ã€‚</p>
<h3 id="3-å®éªŒç»“æœ">3. å®éªŒç»“æœ</h3>
<center><img src="https://images.rimrose.site/images/EDA_expt-2_Fig2.9.png" alt="Fig-2.9 Flow Summary"></center>
<div></div>
<center><img src="https://images.rimrose.site/images/EDA_expt-2_Fig2.10.png" alt= "Fig-2.10 RTLç”µè·¯å›¾"></center>
<div></div>
<center><img src="https://images.rimrose.site/images/EDA_expt-2_Fig2.11.png" alt="Fig-2.11 pin-planner"></center>
<div></div>
<center><img src="https://images.rimrose.site/images/EDA_expt-2_Fig2.12.png" alt="Fig-2.12 ä»¿çœŸç»“æœ"></center>
<blockquote>
<p>é™„ï¼šæºç¨‹åºä»£ç </p>
</blockquote>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br></pre></td><td class="code"><pre><code class="hljs Verilog"><span class="hljs-comment">//seg_test.v</span><br><span class="hljs-keyword">module</span> seg_test(<br>                <span class="hljs-keyword">input</span>      clk,<br>                <span class="hljs-keyword">input</span>      rst_n,<br>                <span class="hljs-keyword">output</span>[<span class="hljs-number">5</span>:<span class="hljs-number">0</span>]seg_sel,<br>                <span class="hljs-keyword">output</span>[<span class="hljs-number">7</span>:<span class="hljs-number">0</span>]seg_data<br>                );<br>      <br><span class="hljs-keyword">reg</span>[<span class="hljs-number">31</span>:<span class="hljs-number">0</span>] timer_cnt;<br><span class="hljs-keyword">reg</span> en_1hz;                          <span class="hljs-comment">//1 second , 1 counter enable</span><br><span class="hljs-keyword">always</span>@(<span class="hljs-keyword">posedge</span> clk <span class="hljs-keyword">or</span> <span class="hljs-keyword">negedge</span> rst_n)<br><span class="hljs-keyword">begin</span><br>    <span class="hljs-keyword">if</span>(rst_n == <span class="hljs-number">1&#x27;b0</span>)<br>    <span class="hljs-keyword">begin</span><br>        en_1hz &lt;= <span class="hljs-number">1&#x27;b0</span>;<br>        timer_cnt &lt;= <span class="hljs-number">32&#x27;d0</span>;<br>    <span class="hljs-keyword">end</span><br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(timer_cnt &gt;= <span class="hljs-number">32&#x27;d49_999_999</span>)<br>    <span class="hljs-keyword">begin</span><br>        en_1hz &lt;= <span class="hljs-number">1&#x27;b1</span>;<br>        timer_cnt &lt;= <span class="hljs-number">32&#x27;d0</span>;<br>    <span class="hljs-keyword">end</span><br>    <span class="hljs-keyword">else</span><br>    <span class="hljs-keyword">begin</span><br>        en_1hz &lt;= <span class="hljs-number">1&#x27;b0</span>;<br>        timer_cnt &lt;= timer_cnt + <span class="hljs-number">32&#x27;d1</span>; <br>    <span class="hljs-keyword">end</span><br><span class="hljs-keyword">end</span><br><span class="hljs-keyword">wire</span>[<span class="hljs-number">3</span>:<span class="hljs-number">0</span>] count0;<br><span class="hljs-keyword">wire</span> t0;<br>count_m10 count10_m0(<br>    <span class="hljs-variable">.clk</span>    (clk),<br>    <span class="hljs-variable">.rst_n</span>  (rst_n),<br>    <span class="hljs-variable">.en</span>     (en_1hz),<br>    <span class="hljs-variable">.clr</span>    (<span class="hljs-number">1&#x27;b0</span>),<br>    <span class="hljs-variable">.data</span>   (count0),<br>    <span class="hljs-variable">.t</span>      (t0)<br> );<br><span class="hljs-keyword">wire</span>[<span class="hljs-number">3</span>:<span class="hljs-number">0</span>] count1;<br><span class="hljs-keyword">wire</span> t1;<br>count_m6 count6_m1( <span class="hljs-comment">//oringin: count_m10 count10_m1</span><br>     <span class="hljs-variable">.clk</span>    (clk),<br>     <span class="hljs-variable">.rst_n</span>  (rst_n),<br>     <span class="hljs-variable">.en</span>     (t0),<br>     <span class="hljs-variable">.clr</span>    (<span class="hljs-number">1&#x27;b0</span>),<br>     <span class="hljs-variable">.data</span>   (count1),<br>     <span class="hljs-variable">.t</span>      (t1)<br> );<br> <br><span class="hljs-keyword">wire</span>[<span class="hljs-number">3</span>:<span class="hljs-number">0</span>] count2;<br><span class="hljs-keyword">wire</span> t2;<br>count_m10 count10_m2(<br>    <span class="hljs-variable">.clk</span>   (clk),<br>    <span class="hljs-variable">.rst_n</span> (rst_n),<br>    <span class="hljs-variable">.en</span>    (t1),<br>    <span class="hljs-variable">.clr</span>   (<span class="hljs-number">1&#x27;b0</span>),<br>    <span class="hljs-variable">.data</span>  (count2),<br>    <span class="hljs-variable">.t</span>     (t2)<br>);<br> <br><span class="hljs-keyword">wire</span>[<span class="hljs-number">3</span>:<span class="hljs-number">0</span>] count3;<br><span class="hljs-keyword">wire</span> t3;<br>count_m10 count10_m3(<br>    <span class="hljs-variable">.clk</span>   (clk),<br>    <span class="hljs-variable">.rst_n</span> (rst_n),<br>    <span class="hljs-variable">.en</span>    (t2),<br>    <span class="hljs-variable">.clr</span>   (<span class="hljs-number">1&#x27;b0</span>),<br>    <span class="hljs-variable">.data</span>  (count3),<br>    <span class="hljs-variable">.t</span>     (t3)<br>);<br> <br><span class="hljs-keyword">wire</span>[<span class="hljs-number">3</span>:<span class="hljs-number">0</span>] count4;<br><span class="hljs-keyword">wire</span> t4;<br>count_m10 count10_m4( <br>    <span class="hljs-variable">.clk</span>   (clk),<br>    <span class="hljs-variable">.rst_n</span> (rst_n),<br>    <span class="hljs-variable">.en</span>    (t3),<br>    <span class="hljs-variable">.clr</span>   (<span class="hljs-number">1&#x27;b0</span>),<br>    <span class="hljs-variable">.data</span>  (count4),<br>    <span class="hljs-variable">.t</span>     (t4)<br>);<br> <br><span class="hljs-keyword">wire</span>[<span class="hljs-number">3</span>:<span class="hljs-number">0</span>] count5;<br><span class="hljs-keyword">wire</span> t5;<br>count_m10 count10_m5(<br>    <span class="hljs-variable">.clk</span>   (clk),<br>    <span class="hljs-variable">.rst_n</span> (rst_n),<br>    <span class="hljs-variable">.en</span>    (t4),<br>    <span class="hljs-variable">.clr</span>   (<span class="hljs-number">1&#x27;b0</span>),<br>    <span class="hljs-variable">.data</span>  (count5),<br>    <span class="hljs-variable">.t</span>     (t5)<br>);<br> <br><span class="hljs-keyword">wire</span>[<span class="hljs-number">6</span>:<span class="hljs-number">0</span>] seg_data_0;<br>seg_decoder seg_decoder_m0(<br>    <span class="hljs-variable">.bin_data</span>  (count5),<br>    <span class="hljs-variable">.seg_data</span>  (seg_data_0)<br>);<br><span class="hljs-keyword">wire</span>[<span class="hljs-number">6</span>:<span class="hljs-number">0</span>] seg_data_1;<br>seg_decoder seg_decoder_m1(<br>    <span class="hljs-variable">.bin_data</span>  (count4),<br>    <span class="hljs-variable">.seg_data</span>  (seg_data_1)<br>);<br><span class="hljs-keyword">wire</span>[<span class="hljs-number">6</span>:<span class="hljs-number">0</span>] seg_data_2;<br>seg_decoder seg_decoder_m2(<br>    <span class="hljs-variable">.bin_data</span>  (count3),<br>    <span class="hljs-variable">.seg_data</span>  (seg_data_2)<br>);<br><span class="hljs-keyword">wire</span>[<span class="hljs-number">6</span>:<span class="hljs-number">0</span>] seg_data_3;<br>seg_decoder seg_decoder_m3(<br>    <span class="hljs-variable">.bin_data</span>  (count2),<br>    <span class="hljs-variable">.seg_data</span>  (seg_data_3)<br>);<br><span class="hljs-keyword">wire</span>[<span class="hljs-number">6</span>:<span class="hljs-number">0</span>] seg_data_4;<br>seg_decoder seg_decoder_m4(<br>    <span class="hljs-variable">.bin_data</span>  (count1), <span class="hljs-comment">//attention, this is COUNT1</span><br>    <span class="hljs-variable">.seg_data</span>  (seg_data_4)<br>);<br> <br><span class="hljs-keyword">wire</span>[<span class="hljs-number">6</span>:<span class="hljs-number">0</span>] seg_data_5;<br>seg_decoder seg_decoder_m5(<br>    <span class="hljs-variable">.bin_data</span>  (count0),<br>    <span class="hljs-variable">.seg_data</span>  (seg_data_5)<br>);<br> <br>seg_scan seg_scan_m0(<br>    <span class="hljs-variable">.clk</span>        (clk),<br>    <span class="hljs-variable">.rst_n</span>      (rst_n),<br>    <span class="hljs-variable">.seg_sel</span>    (seg_sel),<br>    <span class="hljs-variable">.seg_data</span>   (seg_data),<br>    <span class="hljs-variable">.seg_data_4</span> (&#123;<span class="hljs-number">1&#x27;b1</span>,seg_data_4&#125;),<br>    <span class="hljs-variable">.seg_data_5</span> (&#123;<span class="hljs-number">1&#x27;b1</span>,seg_data_5&#125;)<br>);<br><span class="hljs-keyword">endmodule</span> <br></code></pre></td></tr></table></figure>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs Verilog"><span class="hljs-comment">//count_m10.v</span><br><span class="hljs-keyword">module</span> count_m10(<br>                 <span class="hljs-keyword">input</span>          clk,<br>                 <span class="hljs-keyword">input</span>          rst_n,<br>                 <span class="hljs-keyword">input</span>          en,    <span class="hljs-comment">//Counter enable</span><br>                 <span class="hljs-keyword">input</span>          clr,   <span class="hljs-comment">//Counter synchronous reset   </span><br>                 <span class="hljs-keyword">output</span> <span class="hljs-keyword">reg</span>[<span class="hljs-number">3</span>:<span class="hljs-number">0</span>]data,  <span class="hljs-comment">//counter value</span><br>                 <span class="hljs-keyword">output</span> <span class="hljs-keyword">reg</span>     t      <span class="hljs-comment">// carry enable signal</span><br>                );<br><span class="hljs-keyword">always</span>@(<span class="hljs-keyword">posedge</span> clk <span class="hljs-keyword">or</span> <span class="hljs-keyword">negedge</span> rst_n) <br><span class="hljs-keyword">begin</span><br>    <span class="hljs-keyword">if</span>(rst_n==<span class="hljs-number">0</span>)<br>    <span class="hljs-keyword">begin</span><br>        data &lt;= <span class="hljs-number">4&#x27;d0</span>;<br>        t &lt;= <span class="hljs-number">1&#x27;d0</span>;<br>    <span class="hljs-keyword">end</span><br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(clr)<br>    <span class="hljs-keyword">begin</span><br>        data &lt;= <span class="hljs-number">4&#x27;d0</span>;<br>        t &lt;= <span class="hljs-number">1&#x27;d0</span>;      <br>    <span class="hljs-keyword">end</span><br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(en)<br>    <span class="hljs-keyword">begin</span><br>        <span class="hljs-keyword">if</span>(data==<span class="hljs-number">4&#x27;d9</span>)<br>        <span class="hljs-keyword">begin</span><br>            t&lt;= <span class="hljs-number">1&#x27;b1</span>;    <span class="hljs-comment">//Counter to 9 to generate carry</span><br>            data &lt;= <span class="hljs-number">4&#x27;d0</span>;<span class="hljs-comment">//Counter to 9 reset</span><br>        <span class="hljs-keyword">end</span><br>        <span class="hljs-keyword">else</span><br>        <span class="hljs-keyword">begin</span><br>            t &lt;= <span class="hljs-number">1&#x27;b0</span>;<br>            data &lt;= data + <span class="hljs-number">4&#x27;d1</span>;<br>        <span class="hljs-keyword">end</span><br>    <span class="hljs-keyword">end</span><br>    <span class="hljs-keyword">else</span><br>        t &lt;= <span class="hljs-number">1&#x27;b0</span>;<br><span class="hljs-keyword">end</span><br> <br><span class="hljs-keyword">endmodule</span><br></code></pre></td></tr></table></figure>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs Verilog"><span class="hljs-comment">//count_m6.v</span><br><span class="hljs-keyword">module</span> count_m6(<br>                 <span class="hljs-keyword">input</span>          clk,<br>                 <span class="hljs-keyword">input</span>          rst_n,<br>                 <span class="hljs-keyword">input</span>          en,    <span class="hljs-comment">//Counter enable</span><br>                 <span class="hljs-keyword">input</span>          clr,   <span class="hljs-comment">//Counter synchronous reset   </span><br>                 <span class="hljs-keyword">output</span> <span class="hljs-keyword">reg</span>[<span class="hljs-number">3</span>:<span class="hljs-number">0</span>]data,  <span class="hljs-comment">//counter value</span><br>                 <span class="hljs-keyword">output</span> <span class="hljs-keyword">reg</span>     t      <span class="hljs-comment">// carry enable signal</span><br>                );<br><span class="hljs-keyword">always</span>@(<span class="hljs-keyword">posedge</span> clk <span class="hljs-keyword">or</span> <span class="hljs-keyword">negedge</span> rst_n) <br><span class="hljs-keyword">begin</span><br>    <span class="hljs-keyword">if</span>(rst_n==<span class="hljs-number">0</span>)<br>    <span class="hljs-keyword">begin</span><br>        data &lt;= <span class="hljs-number">4&#x27;d0</span>;<br>        t &lt;= <span class="hljs-number">1&#x27;d0</span>;<br>    <span class="hljs-keyword">end</span><br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(clr)<br>    <span class="hljs-keyword">begin</span><br>        data &lt;= <span class="hljs-number">4&#x27;d0</span>;<br>        t &lt;= <span class="hljs-number">1&#x27;d0</span>;      <br>    <span class="hljs-keyword">end</span><br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(en)<br>    <span class="hljs-keyword">begin</span><br>        <span class="hljs-keyword">if</span>(data==<span class="hljs-number">4&#x27;d5</span>)<br>        <span class="hljs-keyword">begin</span><br>            t&lt;= <span class="hljs-number">1&#x27;b1</span>;    <span class="hljs-comment">//Counter to 5 to generate carry</span><br>            data &lt;= <span class="hljs-number">4&#x27;d0</span>;<span class="hljs-comment">//Counter to 5 reset</span><br>        <span class="hljs-keyword">end</span><br>        <span class="hljs-keyword">else</span><br>        <span class="hljs-keyword">begin</span><br>            t &lt;= <span class="hljs-number">1&#x27;b0</span>;<br>            data &lt;= data + <span class="hljs-number">4&#x27;d1</span>;<br>        <span class="hljs-keyword">end</span><br>    <span class="hljs-keyword">end</span><br>    <span class="hljs-keyword">else</span><br>        t &lt;= <span class="hljs-number">1&#x27;b0</span>;<br><span class="hljs-keyword">end</span><br> <br><span class="hljs-keyword">endmodule</span><br></code></pre></td></tr></table></figure>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs Verilog"><span class="hljs-comment">//seg_decoder.v</span><br><span class="hljs-keyword">module</span> seg_decoder<br>(<br> <span class="hljs-keyword">input</span>[<span class="hljs-number">3</span>:<span class="hljs-number">0</span>]      bin_data,     <span class="hljs-comment">// bin data input</span><br> <span class="hljs-keyword">output</span> <span class="hljs-keyword">reg</span>[<span class="hljs-number">6</span>:<span class="hljs-number">0</span>] seg_data      <span class="hljs-comment">// seven segments LED output  //origin: [6:0]</span><br>);<br> <br><span class="hljs-keyword">always</span>@(*)<br><span class="hljs-keyword">begin</span><br> <span class="hljs-keyword">case</span>(bin_data)<br>  <span class="hljs-number">4&#x27;d0</span>:seg_data &lt;= <span class="hljs-number">7&#x27;b100_0000</span>;<br>  <span class="hljs-number">4&#x27;d1</span>:seg_data &lt;= <span class="hljs-number">7&#x27;b111_1001</span>;<br>  <span class="hljs-number">4&#x27;d2</span>:seg_data &lt;= <span class="hljs-number">7&#x27;b010_0100</span>;<br>  <span class="hljs-number">4&#x27;d3</span>:seg_data &lt;= <span class="hljs-number">7&#x27;b011_0000</span>;<br>  <span class="hljs-number">4&#x27;d4</span>:seg_data &lt;= <span class="hljs-number">7&#x27;b001_1001</span>;<br>  <span class="hljs-number">4&#x27;d5</span>:seg_data &lt;= <span class="hljs-number">7&#x27;b001_0010</span>;<br>  <span class="hljs-number">4&#x27;d6</span>:seg_data &lt;= <span class="hljs-number">7&#x27;b000_0010</span>;<br>  <span class="hljs-number">4&#x27;d7</span>:seg_data &lt;= <span class="hljs-number">7&#x27;b111_1000</span>;<br>  <span class="hljs-number">4&#x27;d8</span>:seg_data &lt;= <span class="hljs-number">7&#x27;b000_0000</span>;<br>  <span class="hljs-number">4&#x27;d9</span>:seg_data &lt;= <span class="hljs-number">7&#x27;b001_0000</span>;<br>  <span class="hljs-number">4&#x27;ha</span>:seg_data &lt;= <span class="hljs-number">7&#x27;b000_1000</span>;<br>  <span class="hljs-number">4&#x27;hb</span>:seg_data &lt;= <span class="hljs-number">7&#x27;b000_0011</span>;<br>  <span class="hljs-number">4&#x27;hc</span>:seg_data &lt;= <span class="hljs-number">7&#x27;b100_0110</span>;<br>  <span class="hljs-number">4&#x27;hd</span>:seg_data &lt;= <span class="hljs-number">7&#x27;b010_0001</span>;<br>  <span class="hljs-number">4&#x27;he</span>:seg_data &lt;= <span class="hljs-number">7&#x27;b000_0110</span>;<br>  <span class="hljs-number">4&#x27;hf</span>:seg_data &lt;= <span class="hljs-number">7&#x27;b000_1110</span>;<br>  <span class="hljs-keyword">default</span>:seg_data &lt;= <span class="hljs-number">7&#x27;b111_1111</span>;<br> <span class="hljs-keyword">endcase</span><br><span class="hljs-keyword">end</span><br><span class="hljs-keyword">endmodule</span><br></code></pre></td></tr></table></figure>
<h2 id="å››ã€å®éªŒä¸­é‡åˆ°çš„é—®é¢˜åŠè§£å†³æ–¹æ³•-2">å››ã€å®éªŒä¸­é‡åˆ°çš„é—®é¢˜åŠè§£å†³æ–¹æ³•</h2>
<h3 id="é—®é¢˜">é—®é¢˜</h3>
<p>æ•°ç ç®¡æ˜¾ç¤ºä¸å®Œæ•´</p>
<h3 id="è§£å†³æ–¹æ¡ˆ">è§£å†³æ–¹æ¡ˆ</h3>
<p>å‘ç°æ˜¯å› ä¸ºä¿®æ”¹ä»£ç çš„è¿‡ç¨‹ä¸­æŠŠæ•°ç ç®¡æ®µæ§åˆ¶ä¿®æ”¹é”™è¯¯ï¼Œåº”æ˜¯seg_data_5å’Œseg_data_6ï¼Œé”™æ”¹æˆäº†1å’Œ2ï¼Œæ”¹å›æ¥å³å¯ï¼›ä»¥åŠä¿®æ”¹è¿‡ç¨‹ä¸­å°†ç®¡è„šé…ç½®å†™é”™ï¼Œæ”¹å›é»˜è®¤å³å¯ã€‚</p>
<h2 id="äº”ã€å¿ƒå¾—ä½“ä¼š">äº”ã€å¿ƒå¾—ä½“ä¼š</h2>
<p>é€šè¿‡æœ¬æ¬¡å®éªŒï¼Œæˆ‘æ·±å…¥ç†è§£äº†æ•°ç ç®¡çš„å·¥ä½œåŸç†å’ŒåŠ¨æ€æ‰«ææ˜¾ç¤ºçš„å®ç°æ–¹æ³•ã€‚</p>
<p>æˆ‘å­¦ä¼šäº†å¦‚ä½•åœ¨ FPGA ä¸Šè®¾è®¡å’Œè¿æ¥ä¸åŒæ¨¡å—ï¼Œå®ç°å¤æ‚çš„åŠŸèƒ½ã€‚</p>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬è®¾è®¡äº†ä¸€ä¸ªåè¿›åˆ¶è®¡æ•°å™¨æ¨¡å—ï¼Œç”¨äºè®¡æ—¶ç§’æ•°ã€‚å½“è®¡æ•°åˆ° 9 æ—¶ï¼Œå®ƒä¼šè‡ªåŠ¨æ¸…é›¶å¹¶è§¦å‘å…­è¿›åˆ¶è®¡æ•°å™¨å¼€å§‹æ–°ä¸€è½®è®¡æ•°ã€‚</p>
<p>å…¶æ¬¡ï¼Œæˆ‘ä»¬å®ç°äº†ä¸€ä¸ªå…­è¿›åˆ¶è®¡æ•°å™¨æ¨¡å—ï¼Œç”¨äºè®¡æ•°åˆ†é’Ÿã€‚å½“å…­è¿›åˆ¶è®¡æ•°å™¨è¾¾åˆ° 6 æ—¶ï¼Œå®ƒä¼šè‡ªåŠ¨æ¸…é›¶ï¼Œå¹¶é€šçŸ¥è¯‘ç æ¨¡å—å¼€å§‹æ–°ä¸€è½®è®¡æ•°ã€‚</p>
<p>æˆ‘ä»¬ä½¿ç”¨äº†ä¸ƒæ®µæ˜¾ç¤ºè¯‘ç å™¨ï¼Œå°†è®¡æ•°å™¨çš„è¾“å‡ºè½¬æ¢ä¸ºä¸ƒæ®µæ•°ç ç®¡çš„æ§åˆ¶ä¿¡å·ã€‚</p>
<p>æœ€åï¼Œæˆ‘ä»¬ç¼–å†™äº†æ•°ç ç®¡æ‰«ææ¨¡å—ï¼Œæ§åˆ¶æ•°ç ç®¡çš„æ˜¾ç¤ºã€‚</p>
<p>æˆ‘ä»¬æˆåŠŸåœ°å®ç°äº†ä¸€ä¸ª 2 ä½å…­åè¿›åˆ¶è®¡æ•°å™¨ï¼Œå¯ä»¥å‡†ç¡®åœ°æ˜¾ç¤ºç§’æ•°å’Œåˆ†é’Ÿæ•°ã€‚</p>
<p>æ•°ç ç®¡çš„æ‰«ææ˜¾ç¤ºæ•ˆæœæµç•…ï¼Œæ²¡æœ‰é—ªçƒæˆ–ä¹±ç ã€‚</p>
<p>é€šè¿‡è¿™æ¬¡å®éªŒï¼Œæˆ‘ä¸ä»…æŒæ¡äº†ç¡¬ä»¶æè¿°è¯­è¨€çš„åŸºæœ¬çŸ¥è¯†ï¼Œè¿˜æé«˜äº†é—®é¢˜è§£å†³èƒ½åŠ›ã€‚</p>
<p>æˆ‘å¯¹ FPGA çš„åº”ç”¨æœ‰äº†æ›´æ·±å…¥çš„äº†è§£ï¼Œå¸Œæœ›åœ¨ä»Šåçš„å­¦ä¹ å’Œå·¥ä½œä¸­èƒ½ç»§ç»­æ¢ç´¢æ›´å¤šæœ‰è¶£çš„é¡¹ç›®ã€‚</p>
<p>è¿™æ¬¡å®éªŒè®©æˆ‘æ›´åŠ ç†Ÿæ‚‰äº†æ•°å­—ç”µè·¯è®¾è®¡å’Œ FPGA ç¼–ç¨‹ï¼Œä¹Ÿä¸ºæˆ‘æœªæ¥çš„èŒä¸šå‘å±•æ‰“ä¸‹äº†åšå®çš„åŸºç¡€ã€‚</p>
<p>ï¼ˆå¿ƒå¾—ä½“ä¼šç”±newbingç”Ÿæˆï¼Œæœ›çŸ¥æ‚‰ï¼‰</p>
<hr>
<center><h1>å®éªŒä¸‰ï¼šæ•°å­—æ—¶é’Ÿè®¾è®¡</h1></center>
<h2 id="ä¸€ã€å®éªŒç›®çš„-3">ä¸€ã€å®éªŒç›®çš„</h2>
<ol>
<li>
<p>æŒæ¡å…ƒä»¶ä¾‹åŒ–æ–¹æ³•</p>
</li>
<li>
<p>æŒæ¡è‡ªä¸Šè€Œä¸‹çš„ç”µè·¯è®¾è®¡æ–¹æ³•</p>
</li>
</ol>
<h2 id="äºŒã€å®éªŒå†…å®¹åŠåŸç†-3">äºŒã€å®éªŒå†…å®¹åŠåŸç†</h2>
<h3 id="1-å®éªŒå†…å®¹-3">1. å®éªŒå†…å®¹</h3>
<p>è®¾è®¡ä¸€ä¸ªæ•°å­—æ—¶é’Ÿï¼Œé€šè¿‡6ä¸ªæ•°ç ç®¡åˆ†åˆ«æ˜¾ç¤ºå°æ—¶ã€åˆ†é’Ÿå’Œç§’ã€‚</p>
<center><img src="https://images.rimrose.site/images/EDA_expt-3_Fig3.0.png"></center>
<h3 id="2-å®éªŒåŸç†-3">2. å®éªŒåŸç†</h3>
<h4 id="2-1-ç¡¬ä»¶ä»‹ç»-2">2.1. ç¡¬ä»¶ä»‹ç»</h4>
<p>å¼€å‘æ¿ä¸Šå®‰è£…äº† 6 ä¸ªå…±é˜³æ•°ç ç®¡ï¼Œå¯ä»¥æ˜¾ç¤º 6 ä¸ªæ•°å­—(åŒ…å«å°æ•°ç‚¹) ã€‚ç”µè·¯ç”¨ PNP ç®¡æ¥åå‘é©± åŠ¨å¹¶ä¸”æ§åˆ¶åˆ—æ‰«æä¿¡å·ï¼ˆSEL0_T~SEL5_Tï¼‰æ¥é€‰æ‹©å“ªä¸ªæ•°ç ç®¡ã€‚è€Œä¸”æ‰€æœ‰çš„ 6 ä¸ªæ•°ç ç®¡çš„â€œæ®µé€‰ä¿¡ å·â€ï¼ˆLEDA â€¦ LEDHï¼‰éƒ½å…±ç”¨é©±åŠ¨å¼•è„š(LED_A~LEDH)ã€‚æ•°ç ç®¡çš„æ‰€æœ‰é©±åŠ¨ä¿¡å·éƒ½æ˜¯â€œä½ç”µå¹³æœ‰æ•ˆâ€ã€‚ å…·ä½“çš„åŸç†å›¾è®¾è®¡å¦‚ä¸‹å›¾æ‰€ç¤º:</p>
<center><img src="https://images.rimrose.site/images/EDA_expt-2_Fig2.1.png" alt="Fig-3.1 AX301å¼€å‘æ¿æ•°ç ç®¡ç”µè·¯"></center>
<h4 id="2-2-æ•°ç ç®¡æ‰«æåŸç†-2">2.2. æ•°ç ç®¡æ‰«æåŸç†</h4>
<p>å•ä¸ªæ•°ç ç®¡å¯ä»¥é‡‡ç”¨é™æ€æ˜¾ç¤ºæ–¹å¼ï¼Œå¦‚å›¾æ‰€ç¤ºï¼Œæ•°ç ç®¡è¢«åˆ†æˆ aã€bã€cã€dã€eã€fã€g å’Œå°æ•° ç‚¹ï¼Œæ¯æ®µå¯ä»¥å•ç‹¬æ§åˆ¶äº®ç­ï¼Œé€šè¿‡ç‚¹äº®ä¸åŒçš„æ®µæ˜¾ç¤ºä¸åŒçš„æ•°å­—å’Œå­—ç¬¦ã€‚</p>
<center><img src="https://images.rimrose.site/images/EDA_expt-2_Fig2.2.jpg" alt="Fig-3.2"></center>
<p>å¯¹äºå…±é˜³æçš„æ•°ç ç®¡ï¼Œæ˜¾ç¤ºæ•°å­—å’Œå­—ç¬¦çš„ç¼–ç å¦‚ä¸‹ï¼š</p>
<center><img src="https://images.rimrose.site/images/EDA_expt-2_Fig2.3.jpg" alt="Fig-3.3"></center>
<center><img src="https://images.rimrose.site/images/EDA_expt-2_Fig2.4.png" alt="Fig-3.4"></center>
<p>å¯¹äºå¤šä½æ•°ç ç®¡ï¼Œåˆ©ç”¨è§†è§‰æš‚ç•™åŸç†ï¼Œå¿«é€Ÿäº¤æ›¿æ˜¾ç¤ºï¼Œè®©çœ¼ç›çœ‹ä¸Šå»æ˜¯å¤šä¸ªæ•°ç ç®¡åŒæ—¶æ˜¾ç¤ºçš„ã€‚</p>
<center><img src="https://images.rimrose.site/images/EDA_expt-2_Fig2.5.jpg" alt="Fig-3.5"></center>
<center><img src="https://images.rimrose.site/images/EDA_expt-2_Fig2.6.jpg" alt="Fig-3.6"></center>
<h2 id="ä¸‰ã€å®éªŒæ­¥éª¤åŠç»“æœ-3">ä¸‰ã€å®éªŒæ­¥éª¤åŠç»“æœ</h2>
<h3 id="1-ç¨‹åºè®¾è®¡-2">1. ç¨‹åºè®¾è®¡</h3>
<p>æœ¬å®éªŒè®¾è®¡ä¸€ä¸ª 2 ä½60è¿›åˆ¶è®¡æ•°å™¨æ¨¡å—ï¼ˆç”±ä¸€ä¸ªåè¿›åˆ¶è®¡æ•°å™¨å’Œä¸€ä¸ªå…­è¿›åˆ¶è®¡æ•°å™¨å®ç°ï¼‰å’Œä¸€ä¸ª2ä½24è¿›åˆ¶è®¡æ•°å™¨æ¨¡å—ï¼Œç„¶åé€šè¿‡è¯‘ç æ¨¡å—è¯‘ç åé€åˆ°æ•°ç ç®¡æ‰«ææ¨¡å—æ‰«ææ˜¾ç¤ºã€‚</p>
<h3 id="2-æ¨¡å—è®¾è®¡-2">2. æ¨¡å—è®¾è®¡</h3>
<h4 id="2-1-è¯‘ç æ¨¡å—-2">2.1. è¯‘ç æ¨¡å—</h4>
<p>ä¸»è¦ä½œç”¨æ˜¯å°†äºŒè¿›åˆ¶ç è½¬æ¢æˆæ•°ç ç®¡çš„æ®µæ§åˆ¶ä¿¡å·ã€‚</p>
<center><img src="https://images.rimrose.site/images/EDA_expt-2_Fig2.7.png" alt="Fig-3.7 è¯‘ç æ¨¡å—ï¼ˆseg_decoderï¼‰ç«¯å£"></center>
<h4 id="2-2-æ•°ç ç®¡æ‰«ææ¨¡å—-2">2.2. æ•°ç ç®¡æ‰«ææ¨¡å—</h4>
<p>å°†å¤šä½æ•°ç ç®¡çš„æ®µæ§åˆ¶ä¿¡å·åˆ†æ—¶é€å‡ºã€‚</p>
<center><img src="https://images.rimrose.site/images/EDA_expt-2_Fig2.8.png" alt="Fig-3.8 æ•°ç ç®¡æ‰«ææ¨¡å—ï¼ˆseg_scanï¼‰ç«¯å£
"></center>
<h4 id="2-3-æ¨¡-10-è®¡æ•°å™¨æ¨¡å—-2">2.3. æ¨¡ 10 è®¡æ•°å™¨æ¨¡å—</h4>
<p>æ¨¡å—æœ‰åŒæ­¥å¤ä½ï¼Œè®¡æ•°ä½¿èƒ½ï¼Œè¿›ä½è¾“å‡ºåŠŸèƒ½ï¼Œè®¡æ•°å€¼ä» 0-9ï¼Œå¹¶åœ¨ç­‰äº 9 æ—¶è¿›ä½ã€‚</p>
<h4 id="2-4-æ¨¡-6-è®¡æ•°å™¨æ¨¡å—-2">2.4. æ¨¡ 6 è®¡æ•°å™¨æ¨¡å—</h4>
<p>æ¨¡å—æœ‰åŒæ­¥å¤ä½ï¼Œè®¡æ•°ä½¿èƒ½ï¼Œè¿›ä½è¾“å‡ºåŠŸèƒ½ï¼Œè®¡æ•°å€¼ä» 0-5ï¼Œå¹¶åœ¨ç­‰äº 5 æ—¶è¿›ä½ã€‚</p>
<h4 id="2-5-æ¨¡-24-è®¡æ•°å™¨æ¨¡å—">2.5. æ¨¡ 24 è®¡æ•°å™¨æ¨¡å—</h4>
<p>æ­¤æ¨¡å—å³ä¸¤éƒ¨åˆ†æ„æˆï¼Œä¸€éƒ¨åˆ†æ˜¯åä½ï¼ˆcount_m24_xï¼‰å¦ä¸€éƒ¨åˆ†æ˜¯ä¸ªä½ï¼ˆcount_m24_yï¼‰ã€‚åä½æ•°å­—é€šè¿‡é€¢2è¿›ä½å®ç°24è¿›åˆ¶çš„â€œ2â€ï¼Œä¸ªä½æ•°å­—é€šè¿‡ä¸¤æ¬¡åè¿›åˆ¶å’Œä¸€æ¬¡äº”è¿›åˆ¶æ¥å®ç°24è¿›åˆ¶çš„â€œ4â€ã€‚</p>
<center><img src="https://images.rimrose.site/images/EDA_expt-3_Fig3.11.png" alt="Fig-3.9 RTL"></center>
<center><img src="https://images.rimrose.site/images/EDA_expt-3_Fig3.10.png" alt="Fig-3.10 Flow Summary"></center>
<center><img src="https://images.rimrose.site/images/EDA_expt-2_Fig2.12.png" alt="Fig-3.11 simulation"></center>
<blockquote>
<p>é™„ï¼šå®Œæ•´ä»£ç </p>
</blockquote>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs Verilog"><span class="hljs-comment">// æ­¤ä»£ç åŸºäºå®éªŒäºŒçš„seg_test.v</span><br><span class="hljs-comment">// åœ¨å®éªŒäºŒçš„seg_test.vçš„ç¬¬129è¡Œåè¾¹æ’å…¥ä»¥ä¸‹ä»£ç ï¼š</span><br>    <span class="hljs-variable">.seg_data_0</span> (&#123;<span class="hljs-number">1&#x27;b1</span>,seg_data_0&#125;),      <span class="hljs-comment">//The  decimal point at the highest bit,and low level effecitve</span><br>    <span class="hljs-variable">.seg_data_1</span> (&#123;<span class="hljs-number">1&#x27;b1</span>,seg_data_1&#125;), <br>    <span class="hljs-variable">.seg_data_2</span> (&#123;<span class="hljs-number">1&#x27;b1</span>,seg_data_2&#125;),<br>    <span class="hljs-variable">.seg_data_3</span> (&#123;<span class="hljs-number">1&#x27;b1</span>,seg_data_3&#125;),<br></code></pre></td></tr></table></figure>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs Verilog"><span class="hljs-comment">// æ­¤ä»£ç åŸºäºå®éªŒäºŒçš„seg_scan.v</span><br><span class="hljs-comment">// åœ¨å®éªŒäºŒçš„seg_scanæ¨¡å—ä»£ç çš„åŸºç¡€ä¸Šè¿›è¡Œä»¥ä¸‹ä¿®æ”¹ï¼š</span><br><br><span class="hljs-comment">// åœ¨ç¬¬5è¡Œåè¾¹æ’å…¥ï¼š</span><br> <span class="hljs-keyword">input</span>[<span class="hljs-number">7</span>:<span class="hljs-number">0</span>]      seg_data_0,<br> <span class="hljs-keyword">input</span>[<span class="hljs-number">7</span>:<span class="hljs-number">0</span>]      seg_data_1,<br> <span class="hljs-keyword">input</span>[<span class="hljs-number">7</span>:<span class="hljs-number">0</span>]      seg_data_2,<br> <span class="hljs-keyword">input</span>[<span class="hljs-number">7</span>:<span class="hljs-number">0</span>]      seg_data_3,<br> <br><span class="hljs-comment">// åœ¨ç¬¬49è¡Œåè¾¹æ’å…¥</span><br>   <span class="hljs-comment">//first digital led</span><br>   <span class="hljs-number">4&#x27;d0</span>:<br>   <span class="hljs-keyword">begin</span><br>    seg_sel &lt;= <span class="hljs-number">6&#x27;b11_1110</span>;<br>    seg_data &lt;= seg_data_0;<br>   <span class="hljs-keyword">end</span><br>   <span class="hljs-comment">//second digital led</span><br>   <span class="hljs-number">4&#x27;d1</span>:<br>   <span class="hljs-keyword">begin</span><br>    seg_sel &lt;= <span class="hljs-number">6&#x27;b11_1101</span>;<br>    seg_data &lt;= seg_data_1;<br>   <span class="hljs-keyword">end</span><br>   <span class="hljs-comment">//...</span><br>   <span class="hljs-number">4&#x27;d2</span>:<br>   <span class="hljs-keyword">begin</span><br>    seg_sel &lt;= <span class="hljs-number">6&#x27;b11_1011</span>;<br>    seg_data &lt;= seg_data_2;<br>   <span class="hljs-keyword">end</span><br>   <span class="hljs-number">4&#x27;d3</span>:<br>   <span class="hljs-keyword">begin</span><br>    seg_sel &lt;= <span class="hljs-number">6&#x27;b11_0111</span>;<br>    seg_data &lt;= seg_data_3;<br>   <span class="hljs-keyword">end</span><br></code></pre></td></tr></table></figure>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs Verilog"><span class="hljs-comment">//count_m24_x.v</span><br><span class="hljs-keyword">module</span> count_m24_x(<br>                 <span class="hljs-keyword">input</span>          clk,<br>                 <span class="hljs-keyword">input</span>          rst_n,<br>                 <span class="hljs-keyword">input</span>          en,    <span class="hljs-comment">//Counter enable</span><br>                 <span class="hljs-keyword">input</span>          clr,   <span class="hljs-comment">//Counter synchronous reset   </span><br>                 <span class="hljs-keyword">output</span> <span class="hljs-keyword">reg</span>[<span class="hljs-number">3</span>:<span class="hljs-number">0</span>]data,  <span class="hljs-comment">//counter value</span><br>                 <span class="hljs-keyword">output</span> <span class="hljs-keyword">reg</span>     t      <span class="hljs-comment">// carry enable signal</span><br>                );<br><span class="hljs-keyword">always</span>@(<span class="hljs-keyword">posedge</span> clk <span class="hljs-keyword">or</span> <span class="hljs-keyword">negedge</span> rst_n) <br><span class="hljs-keyword">begin</span><br>    <span class="hljs-keyword">if</span>(rst_n==<span class="hljs-number">0</span>)<br>    <span class="hljs-keyword">begin</span><br>        data &lt;= <span class="hljs-number">4&#x27;d0</span>;<br>        t &lt;= <span class="hljs-number">1&#x27;d0</span>;<br>    <span class="hljs-keyword">end</span><br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(clr)<br>    <span class="hljs-keyword">begin</span><br>        data &lt;= <span class="hljs-number">4&#x27;d0</span>;<br>        t &lt;= <span class="hljs-number">1&#x27;d0</span>;      <br>    <span class="hljs-keyword">end</span><br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(en)<br>    <span class="hljs-keyword">begin</span><br>        <span class="hljs-keyword">if</span>(data==<span class="hljs-number">4&#x27;d2</span>)<br>        <span class="hljs-keyword">begin</span><br>            t&lt;= <span class="hljs-number">1&#x27;b1</span>;    <span class="hljs-comment">//Counter to 2 to generate carry</span><br>            data &lt;= <span class="hljs-number">4&#x27;d0</span>;<span class="hljs-comment">//Counter to 2 reset</span><br>        <span class="hljs-keyword">end</span><br>        <span class="hljs-keyword">else</span><br>        <span class="hljs-keyword">begin</span><br>            t &lt;= <span class="hljs-number">1&#x27;b0</span>;<br>            data &lt;= data + <span class="hljs-number">4&#x27;d1</span>;<br>        <span class="hljs-keyword">end</span><br>    <span class="hljs-keyword">end</span><br>    <span class="hljs-keyword">else</span><br>        t &lt;= <span class="hljs-number">1&#x27;b0</span>;<br><span class="hljs-keyword">end</span><br> <br><span class="hljs-keyword">endmodule</span><br></code></pre></td></tr></table></figure>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><code class="hljs Verilog"><span class="hljs-comment">//count_m24_y.v</span><br><span class="hljs-keyword">module</span> count_m24_y(<br>                 <span class="hljs-keyword">input</span>          clk,<br>                 <span class="hljs-keyword">input</span>          rst_n,<br>                 <span class="hljs-keyword">input</span>          en,    <span class="hljs-comment">//Counter enable</span><br>                 <span class="hljs-keyword">input</span>          clr,   <span class="hljs-comment">//Counter synchronous reset   </span><br>                 <span class="hljs-keyword">output</span> <span class="hljs-keyword">reg</span>[<span class="hljs-number">3</span>:<span class="hljs-number">0</span>]data,  <span class="hljs-comment">//counter value</span><br>                 <span class="hljs-keyword">output</span> <span class="hljs-keyword">reg</span>     t      <span class="hljs-comment">// carry enable signal</span><br>                );<br>      <br><span class="hljs-keyword">reg</span>[<span class="hljs-number">3</span>:<span class="hljs-number">0</span>] y_timer; <span class="hljs-comment">// 24_y timer</span><br> <br><span class="hljs-keyword">always</span>@(<span class="hljs-keyword">posedge</span> clk <span class="hljs-keyword">or</span> <span class="hljs-keyword">negedge</span> rst_n)<br><span class="hljs-keyword">begin</span><br>    <span class="hljs-keyword">if</span>(rst_n==<span class="hljs-number">0</span>)<br>    <span class="hljs-keyword">begin</span><br>        data &lt;= <span class="hljs-number">4&#x27;d0</span>;<br>        t &lt;= <span class="hljs-number">1&#x27;d0</span>;<br>    y_timer &lt;= <span class="hljs-number">4&#x27;d0</span>;<br>    <span class="hljs-keyword">end</span><br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(clr)<br>    <span class="hljs-keyword">begin</span><br>        data &lt;= <span class="hljs-number">4&#x27;d0</span>;<br>        t &lt;= <span class="hljs-number">1&#x27;d0</span>;<br>    y_timer &lt;= <span class="hljs-number">4&#x27;d0</span>;    <br>    <span class="hljs-keyword">end</span><br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(en)<br>    <span class="hljs-keyword">begin</span><br>        <span class="hljs-keyword">if</span>(data==<span class="hljs-number">4&#x27;d9</span>)<br>        <span class="hljs-keyword">begin</span><br>            t&lt;= <span class="hljs-number">1&#x27;b1</span>;    <span class="hljs-comment">//Counter to 9 to generate carry</span><br>            data &lt;= <span class="hljs-number">4&#x27;d0</span>;<span class="hljs-comment">//Counter to 9 reset</span><br>    y_timer &lt;= y_timer + <span class="hljs-number">4&#x27;d1</span>; <br>        <span class="hljs-keyword">end</span><br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(data==<span class="hljs-number">4&#x27;d3</span> &amp;&amp; y_timer==<span class="hljs-number">4&#x27;d2</span>)<br>    <span class="hljs-keyword">begin</span><br>    t &lt;= <span class="hljs-number">1&#x27;b1</span>;<br>    data &lt;= <span class="hljs-number">4&#x27;d0</span>;<br>    y_timer &lt;= <span class="hljs-number">4&#x27;d0</span>;<br>   <span class="hljs-keyword">end</span><br>        <span class="hljs-keyword">else</span><br>        <span class="hljs-keyword">begin</span><br>            t &lt;= <span class="hljs-number">1&#x27;b0</span>;<br>            data &lt;= data + <span class="hljs-number">4&#x27;d1</span>;<br>        <span class="hljs-keyword">end</span><br>    <span class="hljs-keyword">end</span><br>    <span class="hljs-keyword">else</span><br>        t &lt;= <span class="hljs-number">1&#x27;b0</span>;<br><span class="hljs-keyword">end</span><br> <br><span class="hljs-keyword">endmodule</span><br></code></pre></td></tr></table></figure>
<blockquote>
<p>ç„¶åï¼Œåœ¨<code>seg_test.v</code>é‡Œè¾¹ï¼Œç¬¬89è¡Œçš„<code>wire t3</code>çš„<code>count_m10</code>æ”¹æˆ<code>count_m6</code>ï¼Œç„¶åæŠŠç¬¬100è¡Œå’Œ111è¡Œçš„<code>wire t4</code>å’Œ<code>wire t5</code>çš„<code>count_m10</code>åˆ†åˆ«æ”¹ä¸º<code>count_m24_y</code>å’Œ<code>count_m24_x</code>å³å¯å®ç°ã€‚</p>
</blockquote>
<h2 id="å››ã€å®éªŒä¸­é‡åˆ°çš„é—®é¢˜åŠè§£å†³æ–¹æ³•-3">å››ã€å®éªŒä¸­é‡åˆ°çš„é—®é¢˜åŠè§£å†³æ–¹æ³•</h2>
<h3 id="å…¶ä¸€">å…¶ä¸€</h3>
<p>æ—¶é’Ÿè®¡æ•°é€Ÿåº¦è¿‡æ…¢ï¼ˆå¯¹äºè°ƒè¯•æ¥è¯´ï¼‰ï¼Œè§£å†³æ–¹æ³•æ˜¯ï¼š</p>
<p>å¯ä»¥ä¿®æ”¹<code>seg_test.v</code>ç¬¬45è¡Œçš„<code>32'd49_999_999</code>ä¸º<code>32'd49_999</code>ï¼Œè¿™æ ·åˆ†é’Ÿçš„åä½ä¼šæŒ‰æ¯”ç§’ç¨å¾®å¿«ä¸€ç‚¹çš„é€Ÿåº¦è®¡æ•°ã€‚</p>
<h3 id="å…¶äºŒ">å…¶äºŒ</h3>
<p>å¦‚ä½•å®ç°24è¿›åˆ¶ï¼š</p>
<p>ç”±äºæ—¶é’Ÿçš„æ¯ä¸€ä½æ•°å­—æ˜¯å•ç‹¬æ§åˆ¶çš„ï¼Œæ‰€ä»¥24è¿›åˆ¶é€šè¿‡ä¸¤ä¸ªæ•°å­—åˆ†åˆ«æ§åˆ¶æ¥å®ç°ï¼Œä¹Ÿå°±æ˜¯ä¸€éƒ¨åˆ†æ˜¯åä½ï¼ˆcount_m24_xï¼‰å¦ä¸€éƒ¨åˆ†æ˜¯ä¸ªä½ï¼ˆcount_m24_yï¼‰ã€‚åä½æ•°å­—é€šè¿‡é€¢2è¿›ä½å®ç°24è¿›åˆ¶çš„â€œ2â€ï¼Œä¸ªä½æ•°å­—é€šè¿‡ä¸¤æ¬¡åè¿›åˆ¶å’Œä¸€æ¬¡äº”è¿›åˆ¶æ¥å®ç°24è¿›åˆ¶çš„â€œ4â€ã€‚</p>
<h2 id="äº”ã€å¿ƒå¾—ä½“ä¼š-2">äº”ã€å¿ƒå¾—ä½“ä¼š</h2>
<p>è¿™æ¬¡çš„æ•°å­—æ—¶é’Ÿè®¾è®¡å®éªŒæ˜¯ä¸€ä¸ªæœ‰è¶£ä¸”å…·æœ‰æŒ‘æˆ˜æ€§çš„ä»»åŠ¡ã€‚åœ¨è®¾è®¡è¿‡ç¨‹ä¸­ï¼Œæˆ‘æ·±åˆ»ä½“ä¼šåˆ°äº†æ¨¡å—åŒ–è®¾è®¡çš„é‡è¦æ€§ï¼Œä»¥åŠå¦‚ä½•å°†ä¸åŒåŠŸèƒ½çš„æ¨¡å—åè°ƒå·¥ä½œã€‚ä»¥ä¸‹æ˜¯æˆ‘åœ¨è¿™ä¸ªå®éªŒä¸­çš„ä¸€äº›æ„Ÿå—ï¼š</p>
<p>æ¨¡å—åŒ–è®¾è®¡çš„ä¼˜åŠ¿ï¼š</p>
<p>é€šè¿‡å°†æ•´ä¸ªç³»ç»Ÿæ‹†åˆ†ä¸ºä¸åŒçš„æ¨¡å—ï¼Œæˆ‘ä»¬å¯ä»¥æ›´å¥½åœ°ç®¡ç†å¤æ‚æ€§ã€‚æ¯ä¸ªæ¨¡å—ä¸“æ³¨äºç‰¹å®šçš„åŠŸèƒ½ï¼Œä½¿å¾—ä»£ç æ›´æ˜“äºç»´æŠ¤å’Œè°ƒè¯•ã€‚è¿™æ¬¡å®éªŒä¸­ï¼Œæˆ‘å­¦åˆ°äº†å¦‚ä½•è®¾è®¡ç‹¬ç«‹çš„è®¡æ—¶æ¨¡å—å’Œæ•°ç ç®¡æ˜¾ç¤ºæ¨¡å—ï¼Œå¹¶å°†å®ƒä»¬ç»„åˆåœ¨ä¸€èµ·ã€‚</p>
<p>æ—¶åºæ§åˆ¶çš„æŒ‘æˆ˜ï¼š</p>
<p>åœ¨æ•°ç ç®¡æ˜¾ç¤ºæ¨¡å—ä¸­ï¼ŒåŠ¨æ€æ‰«æçš„æ—¶åºæ§åˆ¶æ˜¯ä¸€ä¸ªå…³é”®é—®é¢˜ã€‚æˆ‘ä»¬éœ€è¦ç¡®ä¿æ•°ç ç®¡æŒ‰ç…§æ­£ç¡®çš„é¡ºåºç‚¹äº®ï¼Œä»¥æ˜¾ç¤ºå‡ºå®Œæ•´çš„æ—¶é—´ã€‚è¿™è®©æˆ‘æ„è¯†åˆ°äº†æ—¶åºè®¾è®¡çš„é‡è¦æ€§ï¼Œä»¥åŠå¦‚ä½•é¿å…æ½œåœ¨çš„å†²çªã€‚</p>
<p>ä»¿çœŸçš„é‡è¦æ€§ï¼š</p>
<p>åœ¨è®¾è®¡è¿‡ç¨‹ä¸­ï¼Œæˆ‘è¿›è¡Œäº†è¯¦ç»†çš„ä»¿çœŸæµ‹è¯•ã€‚é€šè¿‡ä»¿çœŸï¼Œæˆ‘èƒ½å¤Ÿè§‚å¯Ÿåˆ°æ—¶ã€åˆ†ã€ç§’å„è‡ªçš„è·³å˜è¿‡ç¨‹ï¼Œå¹¶éªŒè¯æ•´ç‚¹æŠ¥æ—¶æ§åˆ¶ä¿¡å·çš„æ­£ç¡®æ€§ã€‚è¿™æ¬¡å®éªŒè®©æˆ‘æ˜ç™½äº†ä»¿çœŸåœ¨ç¡¬ä»¶è®¾è®¡ä¸­çš„å…³é”®ä½œç”¨ã€‚</p>
<p>ï¼ˆå¿ƒå¾—ä½“ä¼šç”±newbingç”Ÿæˆï¼Œæœ›çŸ¥æ‚‰ï¼‰</p>
<hr>
<center><h1>å®éªŒå››ï¼šæ­£å¼¦ä¿¡å·å‘ç”Ÿå™¨è®¾è®¡</h1></center>
<h2 id="ä¸€ã€å®éªŒç›®çš„-4">ä¸€ã€å®éªŒç›®çš„</h2>
<ol>
<li>
<p>æŒæ¡ROMå­˜å‚¨å™¨ IPæ ¸çš„ä½¿ç”¨</p>
</li>
<li>
<p>æŒæ¡IPæ ¸çš„ä»¿çœŸæ–¹æ³•</p>
</li>
<li>
<p>æŒæ¡signal TapåµŒå…¥å¼é€»è¾‘åˆ†æä»ªçš„ä½¿ç”¨æ–¹æ³•</p>
</li>
</ol>
<h2 id="äºŒã€å®éªŒå†…å®¹åŠåŸç†-4">äºŒã€å®éªŒå†…å®¹åŠåŸç†</h2>
<h3 id="1-å®éªŒå†…å®¹-4">1. å®éªŒå†…å®¹</h3>
<p>äº§ç”Ÿä¸€å®šé¢‘ç‡çš„æ­£å¼¦ä¿¡å·ï¼Œä¿¡å·é¢‘ç‡å¯è®¾ç½®æˆ–é€‰æ‹©</p>
<h3 id="2-å®éªŒåŸç†-4">2. å®éªŒåŸç†</h3>
<p>é¦–å…ˆæ˜¯ FPGA ä¸­çš„æ³¢å½¢å‘ç”Ÿå™¨æ§åˆ¶ç”µè·¯ï¼Œå®ƒé€šè¿‡å¤–æ¥æ§åˆ¶ä¿¡å·å’Œé«˜é€Ÿæ—¶é’Ÿ ä¿¡å·ï¼Œå‘æ³¢å½¢æ•°æ® ROM å‘å‡ºåœ°å€ä¿¡å·ã€‚æ³¢å½¢æ•°æ® ROM ä¸­å­˜æœ‰å‘ç”Ÿå™¨çš„æ³¢å½¢æ•°æ®ï¼Œå¦‚æ­£å¼¦ æ³¢æˆ–ä¸‰è§’æ³¢æ•°æ®ã€‚å½“æ¥å—æ¥è‡ª FPGA çš„åœ°å€ä¿¡å·åï¼Œå°†ä»æ•°æ®çº¿è¾“å‡ºç›¸åº”çš„æ³¢å½¢æ•°æ®ã€‚</p>
<h2 id="ä¸‰ã€å®éªŒæ­¥éª¤åŠç»“æœ-4">ä¸‰ã€å®éªŒæ­¥éª¤åŠç»“æœ</h2>
<ol>
<li>
<p>æ‰“å¼€ Quartus è½¯ä»¶ï¼Œç‚¹å‡» Fileï¼Œæ‰¾åˆ°å¹¶ç‚¹å‡» New Project Wizardï¼Œæ–°å»ºå·¥ç¨‹ã€‚ä¸ºå·¥ç¨‹å‘½åï¼Œ é€‰æ‹© Cyclone IV E å™¨ä»¶ï¼Œå°†ç®¡è„šä¸ªæ•°é€‰ä¸º 256ï¼Œé€Ÿåº¦é€‰ 8ï¼Œç„¶åé€‰ä¸­å™¨ä»¶æ ä¸­çš„ç¬¬ä¸€è¡Œå™¨ä»¶ã€‚</p>
</li>
<li>
<p>ç„¶ååœ¨ç•Œé¢çš„æœ€å³è¾¹ IP æ ¸ç›®å½•åº“ä¸‹çš„ Basic Function ä¸­æ‰¾åˆ° On Chip Memoryï¼Œé€‰æ‹© ROM:1-PORTã€‚ç„¶åå‡ºç°ä¸€ä¸ªçª—å£ï¼Œä¸ºæœ€åç”Ÿæˆçš„æ–‡ä»¶å‘½åï¼Œç‚¹å‡» OKã€‚æ¥ç€åˆå‡ºç°ä¸€ä¸ªç•Œ é¢ï¼Œä¸»è¦æ˜¯å¯¹ IP æ ¸è¿›è¡Œå‚æ•°çš„è®¾ç½®ï¼Œå°†ä½æ•°è®¾ç½®ä¸º 8ï¼Œå°†æ•°æ®ä¸ªæ•°è®¾ç½®ä¸º 256 å³å¯ï¼Œç‚¹å‡» NEXTã€‚åœ¨æ–°å‡ºç°çš„çª—å£ä¸­æ‰¾åˆ° Create a â€˜rdenâ€™ read enable signal æ‰“ä¸Šå¯¹å·ï¼Œå†ç‚¹å‡» NEXTã€‚ è¿™æ—¶å€™éœ€è¦æ·»åŠ å­˜å‚¨å™¨çš„åˆå§‹åŒ–æ–‡ä»¶ï¼Œæ³¨æ„è¯¥æ–‡ä»¶çš„åç¼€æ˜¯.mifï¼Œç„¶åç»§ç»­å¾€ä¸‹è¿›è¡Œï¼Œæœ€å ç»“æŸã€‚ç»“æŸååˆå‡ºç°ä¸€ä¸ªçª—å£ï¼Œçª—å£ä¸»è¦æ˜¯è¯¢é—®åˆšæ‰ç”Ÿæˆçš„ IP æ ¸æ–‡ä»¶æ˜¯å¦åŠ å…¥å·¥ç¨‹é‡Œï¼Œç‚¹ å‡» YESï¼Œåœ¨å½“è¡Œçª—å£ç‚¹å‡» Files å³å¯çœ‹åˆ°è‡ªåŠ¨ç”Ÿæˆçš„æ–‡ä»¶ã€‚</p>
</li>
<li>
<p>ä½¿ç”¨ IP æ ¸ã€‚æ–°å»ºæ–‡ä»¶ï¼Œå†™å…¥ç¨‹åºä»£ç ã€‚å…·ä½“ä»£ç å¦‚ä¸‹:</p>
</li>
</ol>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs Verilog"><span class="hljs-comment">//sinwave1.v</span><br><span class="hljs-keyword">module</span> sinwave1(clk, rst_n, dout);<br><span class="hljs-keyword">input</span> clk, rst_n;<br><span class="hljs-keyword">output</span> [<span class="hljs-number">7</span>:<span class="hljs-number">0</span>] dout;<br><span class="hljs-keyword">reg</span> [<span class="hljs-number">7</span>:<span class="hljs-number">0</span>] address;<br><span class="hljs-keyword">reg</span> rden;<br><span class="hljs-keyword">always</span>@(<span class="hljs-keyword">posedge</span> clk <span class="hljs-keyword">or</span> <span class="hljs-keyword">negedge</span> rst_n)<br><span class="hljs-keyword">begin</span><br>    <span class="hljs-keyword">if</span> (!rst_n)<br>        rden â‰¤<span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">else</span><br>        rden â‰¤<span class="hljs-number">1</span>;<br><span class="hljs-keyword">end</span><br><span class="hljs-keyword">always</span>@(<span class="hljs-keyword">posedge</span> clk <span class="hljs-keyword">or</span> <span class="hljs-keyword">negedge</span> rst_n)<br><span class="hljs-keyword">begin</span><br>    <span class="hljs-keyword">if</span> (!rst_n)<br>        addressâ‰¤<span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">else</span><br>        address â‰¤address+<span class="hljs-number">1</span>;<br><span class="hljs-keyword">end</span><br>myrom1 u1(<span class="hljs-variable">.address</span>(address) ,<span class="hljs-variable">.clock</span>(clk) ,<span class="hljs-variable">.rden</span>(rden),<span class="hljs-variable">.q</span>(dout));<br><span class="hljs-keyword">endmodule</span><br></code></pre></td></tr></table></figure>
<ol start="4">
<li>ä½¿ç”¨ Signal Tap Logic Analyzer Fileã€‚ç‚¹å‡» Fileâ€“&gt;newâ€“&gt;Signal Tap Logic Analyzer Fileâ€“&gt;OKã€‚åœ¨å‡ºç°çš„ç•Œé¢åšä¸‰ä¸ªè®¾ç½®ï¼Œç¬¬ä¸€ä¸ªï¼šåŒå‡»ç©ºç™½çª—å£ï¼Œåœ¨å‡ºç°çš„çª—å£ä¸­ Filter æ‰¾åˆ° Pins all å¹¶ç‚¹å‡»é€‰æ‹©ï¼Œå†ç‚¹å‡» listï¼Œç„¶åé€‰æ‹© doutâ€“&gt;insertâ€“&gt;closedï¼›ç¬¬äºŒä¸ªï¼šçª—å£å³è¾¹æ‰¾åˆ° Clockâ€“&gt;â€¦â€“&gt;Filterâ€“&gt;Pins allâ€“&gt;listâ€“&gt;clkâ€“&gt;insertâ€“&gt;OKï¼›ç¬¬ä¸‰ä¸ªï¼šåœ¨å³è¾¹çª—å£ï¼Œæ‰¾åˆ° Sample depth å°†å…¶æ”¹ä¸º 1Kï¼Œå³å¯ã€‚ç„¶åä¿å­˜ã€‚æ¥ç€å‡ºç°ä¸€ä¸ªçª—å£æç¤ºæ˜¯å¦æŠŠå½“å‰è¿™ä¸ªåŠ å…¥å·¥ç¨‹é‡Œï¼Œ ç‚¹å‡» YESã€‚å†æ¬¡ç¼–è¯‘ã€‚ç»“æœå¦‚ä¸‹å›¾ç¤ºã€‚</li>
</ol>
<center><img src="https://images.rimrose.site/images/EDA_expt-4_Fig2.jpg" alt="Fig-2 Flow Summary"></center>
<ol start="5">
<li>æŠŠç”µè·¯æ¿çš„ä¸ç”µè„‘è¿æ¥ã€‚ç„¶ååœ¨åˆšæ‰çš„ç•Œé¢å³è¾¹æ‰¾åˆ° Hardwareâ€“&gt;USB-Blaster,ç„¶åé€‰æ‹© éœ€è¦ä¸‹è½½çš„æ–‡ä»¶ï¼Œç‚¹å‡»ä¸‹è½½çš„å›¾æ ‡ï¼Œç„¶åç¨‹åºå°±ä¸‹è½½è¿›å»äº†ï¼Œæ¥ç€ç‚¹å‡»è¿è¡Œï¼Œç„¶åæ³¢å½¢å°±å‡ºç°äº†ã€‚å³é”®ç‚¹å‡» dout[7:0]â€“&gt;Bus Display Formatâ€“&gt;Unsigned Line Chartï¼Œ å³å¯çœ‹åˆ°æ­£å¼¦æ³¢ï¼Œå¦‚ä¸‹å›¾ç¤ºã€‚</li>
</ol>
<center><img src="https://images.rimrose.site/images/EDA_expt-4_Fig3.png" alt="Fig-3 wave"></center>
<div></div>
<center><img src="https://images.rimrose.site/images/EDA_expt-4_Fig4.png" alt="Fig-4 RTLå›¾"></center>
<h2 id="å››ã€å®éªŒä¸­é‡åˆ°çš„é—®é¢˜åŠè§£å†³æ–¹æ³•-4">å››ã€å®éªŒä¸­é‡åˆ°çš„é—®é¢˜åŠè§£å†³æ–¹æ³•</h2>
<p>é‡åˆ°çš„é—®é¢˜ä¸»è¦åœ¨äºè½¯ä»¶ä½¿ç”¨ä¸Šçš„æ“ä½œé—®é¢˜ï¼Œç»è¿‡ç‚¹å‡»ä¸åŒçš„ä½ç½®è¯•é”™ä¹‹åè§£å†³é—®é¢˜ã€‚</p>
<h2 id="äº”ã€å¿ƒå¾—ä½“ä¼š-3">äº”ã€å¿ƒå¾—ä½“ä¼š</h2>
<p>æˆ‘å°†æ³¢å½¢æ•°æ®å­˜å…¥FPGAçš„ROMä¸­ï¼ŒåŒæ—¶åœ¨FPGAä¸­å®ç°äº†å¤–éƒ¨æ§åˆ¶é€»è¾‘å•å…ƒï¼Œé€šè¿‡ä»¿çœŸæµ‹è¯•ï¼Œæˆ‘æˆåŠŸåœ°å®ç°äº†æ­£å¼¦ä¿¡å·å‘ç”Ÿå™¨çš„è®¾è®¡è¦æ±‚ã€‚è¿™æ¬¡å®éªŒè®©æˆ‘æ›´æ·±å…¥åœ°ç†è§£äº†æ•°å­—ç”µè·¯è®¾è®¡å’Œä¿¡å·å¤„ç†çš„åŸç†ã€‚</p>
<hr>
<center><h1>å®éªŒäº”ï¼šä»»æ„æ³¢å½¢å‘ç”Ÿå™¨è®¾è®¡</h1></center>
<h2 id="ä¸€ã€å®éªŒç›®çš„-5">ä¸€ã€å®éªŒç›®çš„</h2>
<ol>
<li>
<p>ç†Ÿç»ƒæŒæ¡IPæ ¸çš„ä½¿ç”¨</p>
</li>
<li>
<p>æŒæ¡è‡ªä¸Šè€Œä¸‹çš„ç”µè·¯è®¾è®¡æ–¹æ³•</p>
</li>
</ol>
<h2 id="äºŒã€å®éªŒå†…å®¹åŠåŸç†-5">äºŒã€å®éªŒå†…å®¹åŠåŸç†</h2>
<h3 id="1-å®éªŒå†…å®¹-5">1. å®éªŒå†…å®¹</h3>
<ol>
<li>
<p>ç”Ÿæˆ4ç§åŸºæœ¬æ³¢å½¢ï¼Œä¾‹å¦‚æ­£å¼¦æ³¢ã€æ–¹æ³¢ç­‰ï¼Œå…·ä½“æ³¢å½¢å’Œå‚æ•°è‡ªå®šã€‚</p>
</li>
<li>
<p>è¾“å‡º4ç§åŸºæœ¬æ³¢å½¢çš„ä»»æ„å åŠ ç»“æœï¼Œå…±16ç§æ³¢å½¢å¯ä¾›é€‰æ‹©ã€‚</p>
</li>
</ol>
<h3 id="2-å®éªŒåŸç†-5">2. å®éªŒåŸç†</h3>
<ul>
<li>
<p><strong>æ¨¡å—è¾“å…¥å’Œè¾“å‡ºï¼š</strong></p>
<ul>
<li>è¾“å…¥ï¼šæ—¶é’Ÿä¿¡å·clkå’Œå¤ä½ä¿¡å·rstã€‚</li>
<li>è¾“å‡ºï¼šå…±æœ‰15ä¸ªè¾“å‡ºä¿¡å·ï¼Œåˆ†åˆ«æ˜¯q1åˆ°q15ï¼Œå®ƒä»¬çš„ä½å®½åˆ†åˆ«ä¸º8ä½åˆ°11ä½ã€‚</li>
</ul>
</li>
<li>
<p><strong>å¯„å­˜å™¨addressï¼š</strong></p>
<ul>
<li>
<p>å®šä¹‰äº†ä¸€ä¸ª9ä½å®½çš„å¯„å­˜å™¨addressï¼Œç”¨äºå­˜å‚¨åœ°å€ä¿¡æ¯ã€‚</p>
</li>
<li>
<p>åœ¨æ¯ä¸ªæ—¶é’Ÿä¸‹é™æ²¿æˆ–å¤ä½ä¿¡å·ä¸‹é™æ²¿æ—¶ï¼Œæ ¹æ®å¤ä½çŠ¶æ€æ›´æ–°Â addressÂ çš„å€¼ã€‚</p>
</li>
</ul>
</li>
<li>
<p><strong>å››ä¸ªROMæ¨¡å—ï¼š</strong></p>
<ul>
<li>
<p>sinewaveã€fangboã€jvchiboå’Œsanjiaoboæ˜¯å››ä¸ª ROM æ¨¡å—ã€‚</p>
</li>
<li>
<p>æ¯ä¸ªæ¨¡å—éƒ½æœ‰ç›¸åŒçš„è¾“å…¥ä¿¡å·addresså’Œæ—¶é’Ÿä¿¡å·clkï¼Œä»¥åŠä¸åŒçš„è¾“å‡ºä¿¡å·q1ã€q2ã€q3å’Œq4ã€‚</p>
</li>
<li>
<p>è¿™äº›æ¨¡å—æ ¹æ®ç»™å®šçš„åœ°å€ä»ROMä¸­è¯»å–æ•°æ®ï¼Œå¹¶å°†ç»“æœå­˜å‚¨åœ¨ç›¸åº”çš„è¾“å‡ºä¿¡å·ä¸­ã€‚</p>
</li>
</ul>
</li>
<li>
<p><strong>è¾“å‡ºä¿¡å·çš„è®¡ç®—ï¼š</strong></p>
<ul>
<li>q5åˆ°q15æ˜¯é€šè¿‡å¯¹è¾“å…¥ä¿¡å·q1ã€q2ã€q3å’Œq4è¿›è¡Œä¸åŒçš„è¿ç®—å¾—åˆ°çš„ã€‚</li>
<li>ä¾‹å¦‚ï¼Œq5æ˜¯q1å’Œq2çš„å’Œï¼Œq6æ˜¯q1å’Œq3çš„å’Œï¼Œä»¥æ­¤ç±»æ¨ã€‚</li>
</ul>
</li>
</ul>
<p>æ€»ä¹‹ï¼Œè¿™æ®µä»£ç å®ç°äº†ä¸€ä¸ªå¤šè¾“å‡ºçš„æ¨¡å—ï¼Œå…¶ä¸­åŒ…å«äº†å››ä¸ªROMæ¨¡å—å’Œä¸€äº›é€»è¾‘è¿ç®—ã€‚æ¯ä¸ªROMæ¨¡å—æ ¹æ®åœ°å€ä»ROMä¸­è¯»å–æ•°æ®ï¼Œå¹¶å°†ç»“æœå­˜å‚¨åœ¨ç›¸åº”çš„è¾“å‡ºä¿¡å·ä¸­ã€‚</p>
<p>ï¼ˆå®éªŒåŸç†éƒ¨åˆ†çš„å†…å®¹ç”±newbingç”Ÿæˆï¼Œæœ›çŸ¥æ‚‰ï¼‰</p>
<h2 id="ä¸‰ã€å®éªŒæ­¥éª¤åŠç»“æœ-5">ä¸‰ã€å®éªŒæ­¥éª¤åŠç»“æœ</h2>
<ol start="0">
<li>
<p>æ–°å»ºå·¥ç¨‹ä¸æ³¢å½¢æ–‡ä»¶ç”Ÿæˆä¸å†èµ˜è¿°ï¼Œä¹‹å‰å®éªŒä¸­å·²ç»è¯´æ˜ã€‚</p>
</li>
<li>
<p>åœ¨IPæ ¸åº“é‡Œçš„Basic Function â€“ On Chip Memoryï¼Œé€‰æ‹©ROM:1-PORTï¼Œä¸ºæ¯ä¸€ä¸ªæ³¢å½¢å¯¹åº”çš„å®ä¾‹åŒ–ROMæ ¸å‘½åï¼Œæ¯”å¦‚æœ¬ç¨‹åºé‡Œå°†æ­£å¼¦æ³¢å¯¹åº”çš„ROMæ ¸å‘½åä¸ºâ€œsinewaveâ€ï¼Œå¯¹åº”çš„å°±æ˜¯â€œsinewave.qipâ€å’Œâ€œsinewave.vâ€ï¼Œç„¶åä¸€ç›´ç‚¹nextï¼Œåœ¨éœ€è¦é€‰æ‹©æ³¢å½¢æ–‡ä»¶ä»¥è¿›è¡Œåˆå§‹åŒ–æ—¶é€‰æ‹©åœ¨æ­¥éª¤0ä¸­ç”Ÿæˆçš„æ­£å¼¦æ³¢æ–‡ä»¶ï¼Œç„¶åç»§ç»­nextã€‚æœ€ååœ¨è¯¢é—®æ˜¯å¦å°†åˆšæ‰ç”Ÿæˆçš„IPæ ¸åŠ å…¥å·¥ç¨‹çš„çª—å£ç‚¹å‡»YESï¼Œè¿™æ ·å³å¯åœ¨Filesé‡Œçœ‹åˆ°åˆšåˆšç”Ÿæˆçš„æ–‡ä»¶ï¼Œå¦‚Fig-1æ‰€ç¤ºã€‚</p>
</li>
</ol>
<center><img src="https://images.rimrose.site/images/EDA_expt-5_Fig1.png" alt="Fig-1 Files"></center>
<ol start="2">
<li>
<p>é‡å¤æ­¥éª¤1ï¼Œå°†å¦å¤–çš„ä¸‰ä¸ªæ³¢å½¢ä¹Ÿå†™å…¥ROMæ ¸ã€‚</p>
</li>
<li>
<p>ç¼–å†™é¡¶å±‚æ–‡ä»¶ï¼Œå®Œæ•´ä»£ç å¦‚ä¸‹ã€‚</p>
</li>
</ol>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-comment">//hechengbo.v</span><br><span class="hljs-keyword">module</span> hechengbo(<br>    <span class="hljs-keyword">input</span> clk,<br>    <span class="hljs-keyword">input</span> rst,<br>    <span class="hljs-keyword">output</span> [<span class="hljs-number">7</span>:<span class="hljs-number">0</span>] q1,<br>    <span class="hljs-keyword">output</span> [<span class="hljs-number">7</span>:<span class="hljs-number">0</span>] q2, <br>    <span class="hljs-keyword">output</span> [<span class="hljs-number">7</span>:<span class="hljs-number">0</span>] q3, <br>    <span class="hljs-keyword">output</span> [<span class="hljs-number">7</span>:<span class="hljs-number">0</span>] q4, <br>    <span class="hljs-keyword">output</span> [<span class="hljs-number">8</span>:<span class="hljs-number">0</span>] q5, <br>    <span class="hljs-keyword">output</span> [<span class="hljs-number">8</span>:<span class="hljs-number">0</span>] q6, <br>    <span class="hljs-keyword">output</span> [<span class="hljs-number">8</span>:<span class="hljs-number">0</span>] q7, <br>    <span class="hljs-keyword">output</span> [<span class="hljs-number">8</span>:<span class="hljs-number">0</span>] q8, <br>    <span class="hljs-keyword">output</span> [<span class="hljs-number">8</span>:<span class="hljs-number">0</span>] q9, <br>    <span class="hljs-keyword">output</span> [<span class="hljs-number">8</span>:<span class="hljs-number">0</span>] q10,<br>    <span class="hljs-keyword">output</span> [<span class="hljs-number">9</span>:<span class="hljs-number">0</span>] q11,<br>    <span class="hljs-keyword">output</span> [<span class="hljs-number">9</span>:<span class="hljs-number">0</span>] q12, <br>    <span class="hljs-keyword">output</span> [<span class="hljs-number">9</span>:<span class="hljs-number">0</span>] q13, <br>    <span class="hljs-keyword">output</span> [<span class="hljs-number">9</span>:<span class="hljs-number">0</span>] q14, <br>    <span class="hljs-keyword">output</span> [<span class="hljs-number">10</span>:<span class="hljs-number">0</span>] q15 <br>);<br><br><span class="hljs-keyword">reg</span> [<span class="hljs-number">8</span>:<span class="hljs-number">0</span>] address;<br><br>    <span class="hljs-keyword">always</span> @ (<span class="hljs-keyword">negedge</span> clk <span class="hljs-keyword">or</span> <span class="hljs-keyword">negedge</span> rst)<br><span class="hljs-keyword">begin</span><br>    <span class="hljs-keyword">if</span>(!rst)<br>       address &lt;= <span class="hljs-number">1&#x27;b0</span>;<br>    <span class="hljs-keyword">else</span><br>       address &lt;= address+<span class="hljs-number">1&#x27;b1</span>;<br><span class="hljs-keyword">end</span><br>sinewave       ROM_1<br>(<br> <span class="hljs-variable">.address</span>(address),<br> <span class="hljs-variable">.clock</span> (clk),<br> <span class="hljs-variable">.q</span> (q1)<br>);<br>fangbo     ROM_2<br>(<br> <span class="hljs-variable">.address</span>(address),<br> <span class="hljs-variable">.clock</span> (clk),<br> <span class="hljs-variable">.q</span> (q2)<br>);<br>jvchibo    ROM_3<br>(<br> <span class="hljs-variable">.address</span>(address),<br> <span class="hljs-variable">.clock</span> (clk),<br> <span class="hljs-variable">.q</span> (q3)<br>);<br>sanjiaobo   ROM_4<br>(<br> <span class="hljs-variable">.address</span>(address),<br> <span class="hljs-variable">.clock</span> (clk),<br> <span class="hljs-variable">.q</span> (q4)<br>);<br><span class="hljs-keyword">assign</span> q5=q1+q2;<br><span class="hljs-keyword">assign</span> q6=q1+q3;<br><span class="hljs-keyword">assign</span> q7=q1+q4;<br><span class="hljs-keyword">assign</span> q8=q3+q2;<br><span class="hljs-keyword">assign</span> q9=q4+q2;<br><span class="hljs-keyword">assign</span> q10=q1+q3+q4;<br><span class="hljs-keyword">assign</span> q11=q1+q2+q3;<br><span class="hljs-keyword">assign</span> q12=q1+q2+q4;<br><span class="hljs-keyword">assign</span> q13=q2+q3+q4;<br><span class="hljs-keyword">assign</span> q14=q3+q4;<br><span class="hljs-keyword">assign</span> q15=q1+q2+q3+q4;<br><br><span class="hljs-keyword">endmodule</span><br></code></pre></td></tr></table></figure>
<ol start="4">
<li>ä½¿ç”¨ Signal Tap Logic Analyzer Fileã€‚ç‚¹å‡» Fileâ€“&gt;newâ€“&gt;Signal Tap Logic Analyzer Fileâ€“&gt;OKã€‚åœ¨å‡ºç°çš„ç•Œé¢åšä¸¤ä¸ªè®¾ç½®ï¼Œç¬¬ä¸€ä¸ªï¼šåŒå‡»ç©ºç™½çª—å£ï¼Œåœ¨å‡ºç°çš„çª—å£ä¸­ Filter æ‰¾åˆ° Pins all å¹¶ç‚¹å‡»é€‰æ‹©ï¼Œå†ç‚¹å‡» listï¼Œç„¶åé€‰æ‹© q1~q15â€“&gt;insertâ€“&gt;closedï¼›ç¬¬äºŒä¸ªï¼šçª—å£å³è¾¹æ‰¾åˆ° Clockâ€“&gt;â€¦â€“&gt;Filterâ€“&gt;Pins allâ€“&gt;listâ€“&gt;clkâ€“&gt;insertâ€“&gt;OKã€‚ç„¶åä¿å­˜ã€‚æ¥ç€å‡ºç°ä¸€ä¸ªçª—å£æç¤ºæ˜¯å¦æŠŠå½“å‰è¿™ä¸ªåŠ å…¥å·¥ç¨‹é‡Œï¼Œ ç‚¹å‡» YESã€‚ç¼–è¯‘ã€‚ç»“æœå¦‚ä¸‹å›¾ç¤ºã€‚</li>
</ol>
<center><img src="https://images.rimrose.site/images/EDA_expt-5_Fig2.jpg" "Fig-2 Flow Summary"></center>
<ol start="5">
<li>æŠŠç”µè·¯æ¿çš„ä¸ç”µè„‘è¿æ¥ã€‚ç„¶ååœ¨åˆšæ‰çš„ç•Œé¢å³è¾¹æ‰¾åˆ° Hardwareâ€“&gt;USB-Blaster,ç„¶åé€‰æ‹© éœ€è¦ä¸‹è½½çš„æ–‡ä»¶ï¼Œç‚¹å‡»ä¸‹è½½çš„å›¾æ ‡ï¼Œç„¶åç¨‹åºå°±ä¸‹è½½è¿›å»äº†ï¼Œæ¥ç€ç‚¹å‡»è¿è¡Œï¼Œç„¶åæ³¢å½¢å°±å‡ºç°äº†ã€‚æŒ‰ctrl+Aå…¨é€‰èŠ‚ç‚¹q1~q15â€“&gt;Bus Display Formatâ€“&gt;Unsigned Line Chartï¼Œå³å¯çœ‹åˆ°q1~q4å››ä¸ªåŸºæœ¬æ³¢å½¢ä»¥åŠq5~q15çš„æ³¢å½¢åˆæˆç»“æœï¼Œå¦‚ä¸‹å›¾ç¤ºã€‚</li>
</ol>
<center><img src="https://images.rimrose.site/images/EDA_expt-5_Fig3.png" alt="Fig-3 Signal Tapè¿è¡Œç»“æœ"></center>
<div></div>
<center><img src="https://images.rimrose.site/images/EDA_expt-5_Fig4.png" alt="Fig-4 RTLå›¾"></center>
<div></div>
<center><img src="https://images.rimrose.site/images/EDA_expt-5_Fig5.png" alt="Fig-5 Pin Planneré…ç½®å›¾"></center>
<h2 id="å››ã€å®éªŒä¸­é‡åˆ°çš„é—®é¢˜åŠè§£å†³æ–¹æ³•-5">å››ã€å®éªŒä¸­é‡åˆ°çš„é—®é¢˜åŠè§£å†³æ–¹æ³•</h2>
<p>Signal Tapè¿è¡Œä¹‹åçœ‹ä¸åˆ°æ³¢å½¢ï¼Œçœ‹åˆ°çš„ä¸æ˜¯æ­£å¼¦å½¢çŠ¶ç­‰ã€‚è§£å†³æ–¹æ³•å°±æ˜¯Bus Display Formatâ€“&gt;Unsigned Line Chartï¼Œå°†æ³¢å½¢æ˜¾ç¤ºæ¨¡å¼æ”¹ä¸ºLine Chartã€‚</p>
<h2 id="äº”ã€å¿ƒå¾—ä½“ä¼š-4">äº”ã€å¿ƒå¾—ä½“ä¼š</h2>
<p>å­¦åˆ°äº†ä¸€äº›é€»è¾‘è¿ç®—ï¼Œä»¥ä¸‹æ˜¯ä¸€äº›å¸¸è§çš„é€»è¾‘è¿ç®—ï¼š</p>
<ul>
<li>ä¸è¿ç®—ï¼ˆANDï¼‰ï¼š</li>
</ul>
<p>AND è¿ç®—å°†ä¸¤ä¸ªè¾“å…¥å€¼è¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœä¸¤è€…éƒ½ä¸ºçœŸï¼Œåˆ™ç»“æœä¸ºçœŸï¼›å¦åˆ™ï¼Œç»“æœä¸ºå‡ã€‚</p>
<p>ä¾‹å¦‚ï¼Œå¦‚æœè¾“å…¥ A å’Œè¾“å…¥ B éƒ½ä¸ºçœŸï¼Œé‚£ä¹ˆ A AND B çš„ç»“æœä¸ºçœŸã€‚</p>
<ul>
<li>æˆ–è¿ç®—ï¼ˆORï¼‰ï¼š</li>
</ul>
<p>OR è¿ç®—å°†ä¸¤ä¸ªè¾“å…¥å€¼è¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœå…¶ä¸­è‡³å°‘ä¸€ä¸ªä¸ºçœŸï¼Œåˆ™ç»“æœä¸ºçœŸï¼›å¦åˆ™ï¼Œç»“æœä¸ºå‡ã€‚</p>
<p>ä¾‹å¦‚ï¼Œå¦‚æœè¾“å…¥ A æˆ–è¾“å…¥ B ä¸­è‡³å°‘æœ‰ä¸€ä¸ªä¸ºçœŸï¼Œé‚£ä¹ˆ A OR B çš„ç»“æœä¸ºçœŸã€‚</p>
<ul>
<li>éè¿ç®—ï¼ˆNOTï¼‰ï¼š</li>
</ul>
<p>NOT è¿ç®—å°†å•ä¸ªè¾“å…¥å€¼è¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœè¾“å…¥ä¸ºçœŸï¼Œåˆ™ç»“æœä¸ºå‡ï¼›å¦‚æœè¾“å…¥ä¸ºå‡ï¼Œåˆ™ç»“æœä¸ºçœŸã€‚</p>
<p>ä¾‹å¦‚ï¼Œå¦‚æœè¾“å…¥ A ä¸ºçœŸï¼Œé‚£ä¹ˆ NOT A çš„ç»“æœä¸ºå‡ã€‚</p>
<ul>
<li>å¼‚æˆ–è¿ç®—ï¼ˆXORï¼‰ï¼š</li>
</ul>
<p>XOR è¿ç®—ä¹Ÿç§°ä¸ºâ€œäº’æ–¥æˆ–â€è¿ç®—ã€‚å®ƒå°†ä¸¤ä¸ªè¾“å…¥å€¼è¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœä¸¤è€…ä¸ç›¸ç­‰ï¼Œåˆ™ç»“æœä¸ºçœŸï¼›å¦‚æœä¸¤è€…ç›¸ç­‰ï¼Œåˆ™ç»“æœä¸ºå‡ã€‚</p>
<p>ä¾‹å¦‚ï¼Œå¦‚æœè¾“å…¥ A å’Œè¾“å…¥ B ä¸ç›¸ç­‰ï¼Œé‚£ä¹ˆ A XOR B çš„ç»“æœä¸ºçœŸã€‚</p>
<p>å­¦åˆ°äº†å¦‚ä½•è¿›è¡Œæ³¢çš„å åŠ è¿ç®—ã€‚</p>
<p>ï¼ˆå¿ƒå¾—ä½“ä¼šç”±newbingç”Ÿæˆï¼Œæœ›çŸ¥æ‚‰ï¼‰</p>
<hr>
<center><h1>å®éªŒå…­ï¼šç¡¬ä»¶æ¶ˆæŠ–ç”µè·¯è®¾è®¡</h1></center>
<h2 id="ä¸€ã€å®éªŒç›®çš„-6">ä¸€ã€å®éªŒç›®çš„</h2>
<ol>
<li>
<p>ç†Ÿæ‚‰ç¡¬ä»¶æ¶ˆæŠ–åŸç†</p>
</li>
<li>
<p>ç†Ÿæ‚‰çŠ¶æ€æœºçš„è®¾è®¡æ–¹æ³•</p>
</li>
</ol>
<h2 id="äºŒã€å®éªŒå†…å®¹åŠåŸç†-6">äºŒã€å®éªŒå†…å®¹åŠåŸç†</h2>
<h3 id="1-å®éªŒå†…å®¹ï¼š">1. å®éªŒå†…å®¹ï¼š</h3>
<p>æ¯æŒ‰ä¸€æ¬¡æŒ‰é”®ï¼Œæ•°ç ç®¡æ˜¾ç¤ºçš„60è¿›åˆ¶è®¡æ•°ç»“æœåŠ 1</p>
<h3 id="2-å®éªŒåŸç†-6">2. å®éªŒåŸç†:</h3>
<p>ï¼ˆæ­¤éƒ¨åˆ†å†…å®¹ç”±newbingç”Ÿæˆï¼Œæœ›çŸ¥æ‚‰ï¼‰</p>
<ul>
<li>
<p><strong>é¡¶å±‚æ–‡ä»¶key_debounceæ¨¡å—</strong></p>
<ul>
<li>æ¨¡å—è¾“å…¥å’Œè¾“å‡ºï¼š
<ul>
<li>è¾“å…¥ï¼šæ—¶é’Ÿä¿¡å·Â clkã€å¤ä½ä¿¡å·Â rst_nÂ å’ŒæŒ‰é”®è¾“å…¥ä¿¡å·Â key1ã€‚</li>
<li>è¾“å‡ºï¼š6 ä½é€‰æ‹©ä¿¡å·Â seg_selÂ å’Œ 8 ä½çš„ä¸ƒæ®µæ˜¾ç¤ºæ•°æ®ä¿¡å·Â seg_dataã€‚</li>
</ul>
</li>
<li>æŒ‰é”®å»æŠ–åŠ¨é€»è¾‘ï¼š
<ul>
<li>ä½¿ç”¨Â ax_debounceÂ æ¨¡å—å¯¹è¾“å…¥çš„æŒ‰é”®ä¿¡å·Â key1Â è¿›è¡Œå»æŠ–åŠ¨å¤„ç†ã€‚</li>
<li>button_negedgeÂ æ˜¯æ£€æµ‹åˆ°æŒ‰é”®ä¸‹é™æ²¿çš„ä¿¡å·ã€‚</li>
<li>å»æŠ–åŠ¨åçš„è¾“å‡ºä½œä¸ºè®¡æ•°å™¨çš„ä½¿èƒ½ä¿¡å·ã€‚</li>
</ul>
</li>
<li>ä¸¤ä¸ªè®¡æ•°å™¨ï¼š
<ul>
<li>count10_m0Â å’ŒÂ count10_m1Â æ˜¯ä¸¤ä¸ª 4 ä½è®¡æ•°å™¨ã€‚</li>
<li>count10_m0Â åœ¨å»æŠ–åŠ¨åçš„æŒ‰é”®ä¸‹é™æ²¿è§¦å‘ï¼Œç”¨äºè®¡æ•°æŒ‰é”®æŒ‰ä¸‹çš„æ¬¡æ•°ã€‚</li>
<li>count10_m1Â åœ¨Â t0ï¼ˆä»Â count10_m0Â å¾—åˆ°çš„è¿›ä½ä¿¡å·ï¼‰ä¸ºé«˜ç”µå¹³æ—¶è§¦å‘ï¼Œç”¨äºè¿›ä¸€æ­¥è®¡æ•°ã€‚</li>
</ul>
</li>
<li>è®¡æ•°å™¨å€¼è§£ç ï¼š
<ul>
<li>ä¸¤ä¸ªÂ seg_decoderÂ æ¨¡å—å°†è®¡æ•°å™¨çš„å€¼ï¼ˆcountÂ å’ŒÂ count1ï¼‰è§£ç ä¸º 7 æ®µæ˜¾ç¤ºæ•°æ®ã€‚</li>
<li>è§£ç åçš„æ•°æ®å­˜å‚¨åœ¨Â seg_data_0Â å’ŒÂ seg_data_1Â ä¸­ã€‚</li>
</ul>
</li>
<li>7 æ®µæ‰«æï¼š
<ul>
<li>seg_scanÂ æ¨¡å—æ‰«æ 7 æ®µæ˜¾ç¤ºã€‚</li>
<li>å®ƒé€‰æ‹©å…­ä¸ªæ®µä¹‹ä¸€ï¼ˆç”±Â seg_selÂ æ§åˆ¶ï¼‰ï¼Œå¹¶æä¾›ç›¸åº”çš„æ•°æ®ï¼ˆseg_dataï¼‰ã€‚</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>æŒ‰é”®æ¶ˆæŠ–ax_debounceæ¨¡å—ï¼š</strong></p>
<ul>
<li>æ¨¡å—è¾“å…¥å’Œè¾“å‡ºï¼š
<ul>
<li>è¾“å…¥ï¼šæ—¶é’Ÿä¿¡å·Â clkã€å¤ä½ä¿¡å·Â rstÂ å’ŒæŒ‰é”®è¾“å…¥ä¿¡å·Â button_inã€‚</li>
<li>è¾“å‡ºï¼šå»æŠ–åŠ¨åçš„æŒ‰é”®ä¿¡å·Â button_outï¼Œä»¥åŠæŒ‰é”®ä¸Šå‡æ²¿å’Œä¸‹é™æ²¿çš„æ ‡å¿—Â button_posedgeÂ å’ŒÂ button_negedgeã€‚</li>
</ul>
</li>
<li>å†…éƒ¨å¸¸æ•°å’Œå˜é‡ï¼š
<ul>
<li>Nï¼šå»æŠ–åŠ¨è®¡æ—¶å™¨çš„ä½å®½ã€‚</li>
<li>FREQï¼šæ¨¡å‹æ—¶é’Ÿé¢‘ç‡ï¼ˆä»¥ MHz ä¸ºå•ä½ï¼‰ã€‚</li>
<li>MAX_TIMEï¼šæœ€å¤§å»æŠ–åŠ¨æ—¶é—´ï¼ˆä»¥æ¯«ç§’ä¸ºå•ä½ï¼‰ã€‚</li>
<li>TIMER_MAX_VALï¼šè®¡æ—¶å™¨çš„æœ€å¤§å€¼ï¼Œæ ¹æ®æœ€å¤§å»æŠ–åŠ¨æ—¶é—´è®¡ç®—å¾—å‡ºã€‚</li>
</ul>
</li>
<li>è®¡æ—¶å™¨æ§åˆ¶ï¼š
<ul>
<li>q_resetï¼šé€šè¿‡å¼‚æˆ–è¿ç®—æ£€æµ‹è¾“å…¥ç¿»è½¬ï¼Œç”¨äºé‡ç½®è®¡æ—¶å™¨ã€‚</li>
<li>q_addï¼šå½“Â q_regÂ çš„æœ€é«˜ä½ä¸º 0 æ—¶ï¼Œå…è®¸è®¡æ•°å™¨å¢åŠ ã€‚</li>
</ul>
</li>
<li>è®¡æ•°å™¨é€»è¾‘ï¼š
<ul>
<li>q_nextï¼šæ ¹æ®Â q_resetÂ å’ŒÂ q_addÂ è®¡ç®—ä¸‹ä¸€ä¸ªè®¡æ•°å™¨å€¼ã€‚</li>
<li>DFF1Â å’ŒÂ DFF2ï¼šè¾“å…¥çš„è§¦å‘å™¨ã€‚</li>
<li>q_regï¼šè®¡æ•°å™¨çš„å½“å‰å€¼ã€‚</li>
</ul>
</li>
<li>æŒ‰é”®è¾“å‡ºæ§åˆ¶ï¼š
<ul>
<li>button_outï¼šåœ¨è®¡æ•°å™¨è¾¾åˆ°æœ€å¤§å€¼æ—¶ï¼Œå°†æŒ‰é”®è¾“å‡ºè®¾ç½®ä¸ºÂ DFF2Â çš„å€¼ã€‚</li>
<li>button_out_d0ï¼šæŒ‰é”®è¾“å‡ºçš„åˆå§‹å€¼ã€‚</li>
<li>button_posedgeÂ å’ŒÂ button_negedgeï¼šç”¨äºæ£€æµ‹æŒ‰é”®ä¸Šå‡æ²¿å’Œä¸‹é™æ²¿ã€‚</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>4ä½6è¿›åˆ¶è®¡æ•°å™¨count_m6æ¨¡å—</strong></p>
<ul>
<li>æ¨¡å—è¾“å…¥å’Œè¾“å‡ºï¼š
<ul>
<li>è¾“å…¥ï¼šæ—¶é’Ÿä¿¡å·Â clkã€å¤ä½ä¿¡å·Â rst_nã€è®¡æ•°å™¨ä½¿èƒ½ä¿¡å·Â enÂ å’ŒåŒæ­¥æ¸…é›¶ä¿¡å·Â clrã€‚</li>
<li>è¾“å‡ºï¼š4 ä½è®¡æ•°å™¨å€¼Â dataÂ å’Œè¿›ä½ä½¿èƒ½ä¿¡å·Â tã€‚</li>
</ul>
</li>
<li>è®¡æ•°å™¨é€»è¾‘ï¼šåœ¨æ—¶é’Ÿä¸Šå‡æ²¿æˆ–å¤ä½ä¿¡å·ä¸‹é™æ²¿æ—¶ï¼Œæ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š
<ul>
<li>å¦‚æœå¤ä½ä¿¡å·Â rst_nÂ ä¸ºä½ç”µå¹³ï¼ˆ0ï¼‰ï¼Œåˆ™å°†è®¡æ•°å™¨å€¼Â dataÂ å’Œè¿›ä½ä½¿èƒ½ä¿¡å·Â tÂ éƒ½é‡ç½®ä¸º 0ã€‚</li>
<li>å¦‚æœåŒæ­¥æ¸…é›¶ä¿¡å·Â clrÂ ä¸ºé«˜ç”µå¹³ï¼ˆ1ï¼‰ï¼Œä¹Ÿå°†è®¡æ•°å™¨å€¼Â dataÂ å’Œè¿›ä½ä½¿èƒ½ä¿¡å·Â tÂ éƒ½é‡ç½®ä¸º 0ã€‚</li>
<li>å¦‚æœè®¡æ•°å™¨ä½¿èƒ½ä¿¡å·Â enÂ ä¸ºé«˜ç”µå¹³ï¼ˆ1ï¼‰ï¼š</li>
<li>å¦‚æœè®¡æ•°å™¨å€¼Â dataÂ ç­‰äº 5ï¼Œå°†è¿›ä½ä½¿èƒ½ä¿¡å·Â tÂ è®¾ç½®ä¸º 1ï¼ˆç”¨äºäº§ç”Ÿè¿›ä½ï¼‰å¹¶å°†è®¡æ•°å™¨å€¼Â dataÂ é‡ç½®ä¸º 0ã€‚</li>
<li>å¦åˆ™ï¼Œå°†è¿›ä½ä½¿èƒ½ä¿¡å·Â tÂ è®¾ç½®ä¸º 0ï¼Œè®¡æ•°å™¨å€¼Â dataÂ åŠ  1ã€‚</li>
<li>å¦åˆ™ï¼Œå°†è¿›ä½ä½¿èƒ½ä¿¡å·Â tÂ è®¾ç½®ä¸º 0ã€‚</li>
</ul>
</li>
<li>è®¡æ•°å™¨è¡Œä¸ºï¼š
<ul>
<li>è®¡æ•°å™¨ä» 0 å¼€å§‹è®¡æ•°ï¼Œæ¯æ¬¡é€’å¢ 1ã€‚</li>
<li>å½“è®¡æ•°å™¨å€¼è¾¾åˆ° 5 æ—¶ï¼Œäº§ç”Ÿè¿›ä½ä¿¡å·Â tÂ å¹¶å°†è®¡æ•°å™¨å€¼é‡ç½®ä¸º 0ã€‚</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>4ä½10è¿›åˆ¶è®¡æ•°å™¨count_m10æ¨¡å—</strong></p>
<ul>
<li>åŸç†ä¸ä¸Šè¾¹çš„6è¿›åˆ¶è®¡æ•°å™¨ä¸€æ ·ï¼Œåªæ˜¯è¿›ä½çš„æ•°å­—ä¸ä¸€æ ·ã€‚</li>
</ul>
</li>
<li>
<p><strong>è§£ç æ¨¡å—seg_decoderï¼Œç”¨äºå°† 4 ä½äºŒè¿›åˆ¶è¾“å…¥Â bin_dataÂ è§£ç ä¸ºä¸ƒæ®µæ˜¾ç¤ºçš„è¾“å‡ºÂ seg_data</strong></p>
<ul>
<li>alwaysÂ å—ï¼š
<ul>
<li>è¿™ä¸ªæ¨¡å—ä¸­çš„Â alwaysÂ å—æ˜¯ç»„åˆé€»è¾‘ï¼Œå®ƒåœ¨ä»»ä½•è¾“å…¥å˜åŒ–æ—¶éƒ½ä¼šæ‰§è¡Œã€‚</li>
<li>always @(*)Â è¡¨ç¤ºæ•æ„Ÿäºæ‰€æœ‰è¾“å…¥ä¿¡å·çš„å˜åŒ–ã€‚</li>
</ul>
</li>
<li>caseÂ è¯­å¥ï¼š
<ul>
<li>case(bin_data)Â æ ¹æ®è¾“å…¥çš„Â bin_dataÂ çš„å€¼è¿›è¡ŒåŒ¹é…ã€‚</li>
<li>å¯¹äºæ¯ä¸ªå¯èƒ½çš„Â bin_dataÂ å€¼ï¼Œéƒ½æœ‰ä¸€ä¸ªå¯¹åº”çš„ä¸ƒæ®µæ˜¾ç¤ºæ¨¡å¼ã€‚</li>
</ul>
</li>
<li>ä¸ƒæ®µæ˜¾ç¤ºæ¨¡å¼ï¼š
<ul>
<li>ä¸ƒæ®µæ˜¾ç¤ºå™¨é€šå¸¸ç”± 7 ä¸ªæ®µï¼ˆaã€bã€cã€dã€eã€fã€gï¼‰ç»„æˆï¼Œæ¯ä¸ªæ®µå¯ä»¥ç‚¹äº®æˆ–ç†„ç­ã€‚</li>
<li>åœ¨è¿™é‡Œï¼Œä¸ƒæ®µæ˜¾ç¤ºçš„æ¯ä¸ªæ®µç”¨ä¸€ä¸ªä½è¡¨ç¤ºï¼Œå…¶ä¸­ 1 è¡¨ç¤ºç‚¹äº®ï¼Œ0 è¡¨ç¤ºç†„ç­ã€‚</li>
<li>æ¯ä¸ªÂ seg_dataÂ çš„ 7 ä½å¯¹åº”äº aã€bã€cã€dã€eã€fã€g æ®µçš„çŠ¶æ€ã€‚</li>
</ul>
</li>
<li>å…·ä½“çš„è§£ç ï¼š
<ul>
<li>ä¾‹å¦‚ï¼Œå½“Â bin_dataÂ ä¸º 4â€™d0ï¼ˆè¡¨ç¤ºåè¿›åˆ¶ 0ï¼‰æ—¶ï¼Œseg_dataÂ è¢«è®¾ç½®ä¸º 7â€™b100_0000ï¼ˆç‚¹äº® a æ®µï¼Œå…¶ä»–æ®µç†„ç­ï¼Œæ˜¾ç¤ºæ•°å­— 0ï¼‰ã€‚</li>
<li>ç±»ä¼¼åœ°ï¼Œå¯¹äºå…¶ä»–çš„Â bin_dataÂ å€¼ï¼Œéƒ½æœ‰ç›¸åº”çš„ä¸ƒæ®µæ˜¾ç¤ºæ¨¡å¼ã€‚</li>
</ul>
</li>
<li>é»˜è®¤æƒ…å†µï¼š
<ul>
<li>å¦‚æœÂ bin_dataÂ çš„å€¼ä¸åœ¨ 0 åˆ° 15 ä¹‹é—´ï¼ŒdefaultÂ åˆ†æ”¯å°†Â seg_dataÂ è®¾ç½®ä¸º 7â€™b111_1111ï¼ˆæ‰€æœ‰æ®µéƒ½ç†„ç­ï¼‰ã€‚</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>æ‰«ææ¨¡å—seg_scanï¼Œç”¨äºæ§åˆ¶ä¸ƒæ®µæ˜¾ç¤ºå™¨çš„æ‰«æ</strong></p>
<ul>
<li>
<p>æ¨¡å—è¾“å…¥å’Œè¾“å‡ºï¼š</p>
<ul>
<li>è¾“å…¥ï¼šæ—¶é’Ÿä¿¡å·Â clkã€å¤ä½ä¿¡å·Â rst_nÂ å’Œå…­ä¸ªä¸ƒæ®µæ˜¾ç¤ºå™¨çš„æ•°æ®ä¿¡å·Â seg_data_0Â åˆ°Â seg_data_5ã€‚</li>
<li>è¾“å‡ºï¼š6 ä½é€‰æ‹©ä¿¡å·Â seg_selÂ å’Œ 8 ä½çš„ä¸ƒæ®µæ˜¾ç¤ºæ•°æ®ä¿¡å·Â seg_dataã€‚</li>
</ul>
</li>
<li>
<p>è®¡æ—¶å™¨å’Œé€‰æ‹©é€»è¾‘ï¼š</p>
<ul>
<li>scan_timerÂ æ˜¯ä¸€ä¸ª 32 ä½è®¡æ—¶å™¨ï¼Œç”¨äºæ§åˆ¶æ‰«æçš„æ—¶é—´ã€‚</li>
<li>scan_selÂ æ˜¯ä¸€ä¸ª 4 ä½è®¡æ•°å™¨ï¼Œç”¨äºé€‰æ‹©è¦æ‰«æçš„ä¸ƒæ®µæ˜¾ç¤ºå™¨ã€‚</li>
</ul>
</li>
<li>
<p>è®¡æ—¶å™¨å’Œé€‰æ‹©é€»è¾‘çš„å®ç°ï¼š  åœ¨æ—¶é’Ÿä¸Šå‡æ²¿æˆ–å¤ä½ä¿¡å·ä¸‹é™æ²¿æ—¶ï¼Œæ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š</p>
<ul>
<li>å¦‚æœå¤ä½ä¿¡å·Â rst_nÂ ä¸ºä½ç”µå¹³ï¼ˆ0ï¼‰ï¼Œåˆ™é‡ç½®è®¡æ—¶å™¨å’Œé€‰æ‹©è®¡æ•°å™¨ã€‚</li>
<li>å¦‚æœè®¡æ—¶å™¨è¾¾åˆ°é¢„å®šçš„æ‰«æå‘¨æœŸï¼ˆSCAN_COUNTï¼‰ï¼Œåˆ™é‡ç½®è®¡æ—¶å™¨å¹¶æ›´æ–°é€‰æ‹©è®¡æ•°å™¨ã€‚</li>
<li>å¦åˆ™ï¼Œç»§ç»­é€’å¢è®¡æ—¶å™¨ã€‚</li>
</ul>
</li>
<li>
<p>ä¸ƒæ®µæ˜¾ç¤ºå™¨é€‰æ‹©å’Œæ•°æ®è¾“å‡ºï¼š</p>
<ul>
<li>æ ¹æ®é€‰æ‹©è®¡æ•°å™¨çš„å€¼ï¼Œé€‰æ‹©è¦æ‰«æçš„ä¸ƒæ®µæ˜¾ç¤ºå™¨ã€‚</li>
<li>æ¯ä¸ªé€‰æ‹©å¯¹åº”ä¸€ä¸ªä¸ƒæ®µæ˜¾ç¤ºå™¨çš„æ®µé€‰ä¿¡å·Â seg_selÂ å’Œç›¸åº”çš„æ•°æ®Â seg_dataã€‚</li>
<li>ä¾‹å¦‚ï¼Œå½“Â scan_selÂ ä¸º 4â€™d0 æ—¶ï¼Œé€‰æ‹©ç¬¬ä¸€ä¸ªä¸ƒæ®µæ˜¾ç¤ºå™¨ï¼Œè®¾ç½®Â seg_selÂ ä¸º 6â€™b11_1110ï¼Œå¹¶å°†Â seg_dataÂ è®¾ç½®ä¸ºÂ seg_data_0ã€‚</li>
</ul>
</li>
<li>
<p>é»˜è®¤æƒ…å†µï¼š</p>
<ul>
<li>å¦‚æœé€‰æ‹©è®¡æ•°å™¨çš„å€¼ä¸åœ¨ 0 åˆ° 5 ä¹‹é—´ï¼Œå°†Â seg_selÂ è®¾ç½®ä¸º 6â€™b11_1111ï¼Œå¹¶å°†Â seg_dataÂ è®¾ç½®ä¸º 8â€™hffï¼ˆæ‰€æœ‰æ®µéƒ½ç†„ç­ï¼‰ã€‚</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="ä¸‰ã€å®éªŒæ­¥éª¤åŠç»“æœ-6">ä¸‰ã€å®éªŒæ­¥éª¤åŠç»“æœ</h2>
<p>ç¼–å†™ç¨‹åºä»£ç ç¼–è¯‘å³å¯ã€‚å„æ¨¡å—ä»£ç æŒ‰ç…§å®éªŒåŸç†ä¸­çš„æ¨¡å—é¡ºåºä¾æ¬¡å¦‚ä¸‹ï¼š</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><code class="hljs Verilog"><span class="hljs-comment">//key_debounce.v</span><br><span class="hljs-keyword">module</span> key_debounce(<br>    <span class="hljs-keyword">input</span>        clk,<br>    <span class="hljs-keyword">input</span>        rst_n,<br>    <span class="hljs-keyword">input</span>        key1,<br>    <span class="hljs-keyword">output</span> [<span class="hljs-number">5</span>:<span class="hljs-number">0</span>] seg_sel,<br>    <span class="hljs-keyword">output</span> [<span class="hljs-number">7</span>:<span class="hljs-number">0</span>] seg_data<br>);<br><span class="hljs-keyword">wire</span> button_negedge; <span class="hljs-comment">//Key falling edge</span><br>ax_debounce ax_debounce_m0<br>(<br>    <span class="hljs-variable">.clk</span>             (clk),<br>    <span class="hljs-variable">.rst</span>             (~rst_n),<br>    <span class="hljs-variable">.button_in</span>       (key1),<br>    <span class="hljs-variable">.button_posedge</span>  (),<br>    <span class="hljs-variable">.button_negedge</span>  (button_negedge),<br>    <span class="hljs-variable">.button_out</span>      ()<br>);<br><br><span class="hljs-keyword">wire</span>[<span class="hljs-number">3</span>:<span class="hljs-number">0</span>] count;<br><span class="hljs-keyword">wire</span> t0;<br>count_m10 count10_m0(<br>    <span class="hljs-variable">.clk</span>    (clk),<br>    <span class="hljs-variable">.rst_n</span>  (rst_n),<br>    <span class="hljs-variable">.en</span>     (button_negedge),<br>    <span class="hljs-variable">.clr</span>    (<span class="hljs-number">1&#x27;b0</span>),<br>    <span class="hljs-variable">.data</span>   (count),<br>    <span class="hljs-variable">.t</span>      (t0)<br>);<br><span class="hljs-keyword">wire</span>[<span class="hljs-number">3</span>:<span class="hljs-number">0</span>] count1;<br><span class="hljs-keyword">wire</span> t1;<br>count_m6 count10_m1(<br>    <span class="hljs-variable">.clk</span>    (clk),<br>    <span class="hljs-variable">.rst_n</span>  (rst_n),<br>    <span class="hljs-variable">.en</span>     (t0),<br>    <span class="hljs-variable">.clr</span>    (<span class="hljs-number">1&#x27;b0</span>),<br>    <span class="hljs-variable">.data</span>   (count1),<br>    <span class="hljs-variable">.t</span>      (t1)<br>);<br><span class="hljs-comment">//Count decoding</span><br><span class="hljs-keyword">wire</span>[<span class="hljs-number">6</span>:<span class="hljs-number">0</span>] seg_data_0;<br>seg_decoder seg_decoder_m0(<br>    <span class="hljs-variable">.bin_data</span>  (count),<br>    <span class="hljs-variable">.seg_data</span>  (seg_data_0)<br>);<br><br><span class="hljs-keyword">wire</span>[<span class="hljs-number">6</span>:<span class="hljs-number">0</span>] seg_data_1;<br>seg_decoder seg_decoder_m1(<br>    <span class="hljs-variable">.bin_data</span>  (count1),<br>    <span class="hljs-variable">.seg_data</span>  (seg_data_1)<br>);<br>seg_scan seg_scan_m0(<br>    <span class="hljs-variable">.clk</span>        (clk),<br>    <span class="hljs-variable">.rst_n</span>      (rst_n),<br>    <span class="hljs-variable">.seg_sel</span>    (seg_sel),<br>    <span class="hljs-variable">.seg_data</span>   (seg_data),<br>    <span class="hljs-variable">.seg_data_0</span> (&#123;<span class="hljs-number">1&#x27;b1</span>,<span class="hljs-number">7&#x27;b1111_111</span>&#125;),<br>    <span class="hljs-variable">.seg_data_1</span> (&#123;<span class="hljs-number">1&#x27;b1</span>,<span class="hljs-number">7&#x27;b1111_111</span>&#125;),<br>    <span class="hljs-variable">.seg_data_2</span> (&#123;<span class="hljs-number">1&#x27;b1</span>,<span class="hljs-number">7&#x27;b1111_111</span>&#125;),<br>    <span class="hljs-variable">.seg_data_3</span> (&#123;<span class="hljs-number">1&#x27;b1</span>,<span class="hljs-number">7&#x27;b1111_111</span>&#125;),<br>    <span class="hljs-variable">.seg_data_4</span> (&#123;<span class="hljs-number">1&#x27;b1</span>,seg_data_1&#125;),<br>    <span class="hljs-variable">.seg_data_5</span> (&#123;<span class="hljs-number">1&#x27;b1</span>,seg_data_0&#125;)<br>);<br><span class="hljs-keyword">endmodule</span> <br></code></pre></td></tr></table></figure>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><code class="hljs Verilog"><span class="hljs-comment">//ax_debounce.v</span><br><span class="hljs-meta">`<span class="hljs-keyword">timescale</span> 1 ns / 100 ps</span><br><span class="hljs-keyword">module</span>  ax_debounce <br>(<br>    <span class="hljs-keyword">input</span>       clk, <br>    <span class="hljs-keyword">input</span>       rst, <br>    <span class="hljs-keyword">input</span>       button_in,<br>    <span class="hljs-keyword">output</span> <span class="hljs-keyword">reg</span>  button_posedge,<br>    <span class="hljs-keyword">output</span> <span class="hljs-keyword">reg</span>  button_negedge,<br>    <span class="hljs-keyword">output</span> <span class="hljs-keyword">reg</span>  button_out<br>);<br><span class="hljs-comment">//// ---------------- internal constants --------------</span><br><span class="hljs-keyword">parameter</span> N = <span class="hljs-number">32</span> ;           <span class="hljs-comment">// debounce timer bitwidth</span><br><span class="hljs-keyword">parameter</span> FREQ = <span class="hljs-number">50</span>;         <span class="hljs-comment">//model clock :Mhz</span><br><span class="hljs-keyword">parameter</span> MAX_TIME = <span class="hljs-number">20</span>;     <span class="hljs-comment">//ms</span><br><span class="hljs-keyword">localparam</span> TIMER_MAX_VAL =   MAX_TIME * <span class="hljs-number">1000</span> * FREQ;<br><span class="hljs-comment">////---------------- internal variables ---------------</span><br><span class="hljs-keyword">reg</span>  [N-<span class="hljs-number">1</span> : <span class="hljs-number">0</span>]  q_reg;      <span class="hljs-comment">// timing regs</span><br><span class="hljs-keyword">reg</span>  [N-<span class="hljs-number">1</span> : <span class="hljs-number">0</span>]  q_next;<br><span class="hljs-keyword">reg</span> DFF1, DFF2;             <span class="hljs-comment">// input flip-flops</span><br><span class="hljs-keyword">wire</span> q_add;                 <span class="hljs-comment">// control flags</span><br><span class="hljs-keyword">wire</span> q_reset;<br><span class="hljs-keyword">reg</span> button_out_d0;<br><span class="hljs-comment">//// ------------------------------------------------------</span><br><br><span class="hljs-comment">////contenious assignment for counter control</span><br><span class="hljs-keyword">assign</span> q_reset = (DFF1  ^ DFF2);          <span class="hljs-comment">// xor input flip flops to look for level chage to reset counter</span><br><span class="hljs-keyword">assign</span> q_add = ~(q_reg == TIMER_MAX_VAL); <span class="hljs-comment">// add to counter when q_reg msb is equal to 0</span><br>    <br><span class="hljs-comment">//// combo counter to manage q_next </span><br><span class="hljs-keyword">always</span> @ ( q_reset, q_add, q_reg)<br><span class="hljs-keyword">begin</span><br>    <span class="hljs-keyword">case</span>( &#123;q_reset , q_add&#125;)<br>        <span class="hljs-number">2&#x27;b00</span> :<br>                q_next &lt;= q_reg;<br>        <span class="hljs-number">2&#x27;b01</span> :<br>                q_next &lt;= q_reg + <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">default</span> :<br>                q_next &lt;= &#123; N &#123;<span class="hljs-number">1&#x27;b0</span>&#125; &#125;;<br>    <span class="hljs-keyword">endcase</span>     <br><span class="hljs-keyword">end</span><br><br><span class="hljs-comment">//// Flip flop inputs and q_reg update</span><br><span class="hljs-keyword">always</span> @ ( <span class="hljs-keyword">posedge</span> clk <span class="hljs-keyword">or</span> <span class="hljs-keyword">posedge</span> rst)<br><span class="hljs-keyword">begin</span><br>    <span class="hljs-keyword">if</span>(rst == <span class="hljs-number">1&#x27;b1</span>)<br>    <span class="hljs-keyword">begin</span><br>        DFF1 &lt;= <span class="hljs-number">1&#x27;b0</span>;<br>        DFF2 &lt;= <span class="hljs-number">1&#x27;b0</span>;<br>        q_reg &lt;= &#123; N &#123;<span class="hljs-number">1&#x27;b0</span>&#125; &#125;;<br>    <span class="hljs-keyword">end</span><br>    <span class="hljs-keyword">else</span><br>    <span class="hljs-keyword">begin</span><br>        DFF1 &lt;= button_in;<br>        DFF2 &lt;= DFF1;<br>        q_reg &lt;= q_next;<br>    <span class="hljs-keyword">end</span><br><span class="hljs-keyword">end</span><br><br><span class="hljs-comment">//// counter control</span><br><span class="hljs-keyword">always</span> @ ( <span class="hljs-keyword">posedge</span> clk <span class="hljs-keyword">or</span> <span class="hljs-keyword">posedge</span> rst)<br><span class="hljs-keyword">begin</span><br>    <span class="hljs-keyword">if</span>(rst == <span class="hljs-number">1&#x27;b1</span>)<br>       button_out &lt;= <span class="hljs-number">1&#x27;b1</span>;<br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(q_reg == TIMER_MAX_VAL)<br>        button_out &lt;= DFF2;<br>    <span class="hljs-keyword">else</span><br>        button_out &lt;= button_out;<br><span class="hljs-keyword">end</span><br><br><span class="hljs-keyword">always</span> @ ( <span class="hljs-keyword">posedge</span> clk <span class="hljs-keyword">or</span> <span class="hljs-keyword">posedge</span> rst)<br><span class="hljs-keyword">begin</span><br>    <span class="hljs-keyword">if</span>(rst == <span class="hljs-number">1&#x27;b1</span>)<br>    <span class="hljs-keyword">begin</span><br>       button_out_d0 &lt;= <span class="hljs-number">1&#x27;b1</span>;<br>       button_posedge &lt;= <span class="hljs-number">1&#x27;b0</span>;<br>       button_negedge &lt;= <span class="hljs-number">1&#x27;b0</span>;<br>    <span class="hljs-keyword">end</span><br>    <span class="hljs-keyword">else</span><br>    <span class="hljs-keyword">begin</span><br>       button_out_d0 &lt;= button_out;<br>       button_posedge &lt;= ~button_out_d0 &amp; button_out;<br>       button_negedge &lt;= button_out_d0 &amp; ~button_out;<br>    <span class="hljs-keyword">end</span>    <br><span class="hljs-keyword">end</span><br><span class="hljs-keyword">endmodule</span><br></code></pre></td></tr></table></figure>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs Verilog"><span class="hljs-comment">//count_m6.v</span><br><span class="hljs-keyword">module</span> count_m6(<br>                 <span class="hljs-keyword">input</span>          clk,<br>                 <span class="hljs-keyword">input</span>          rst_n,<br>                 <span class="hljs-keyword">input</span>          en,    <span class="hljs-comment">//Counter enable</span><br>                 <span class="hljs-keyword">input</span>          clr,   <span class="hljs-comment">//Counter synchronous reset   </span><br>                 <span class="hljs-keyword">output</span> <span class="hljs-keyword">reg</span>[<span class="hljs-number">3</span>:<span class="hljs-number">0</span>]data,  <span class="hljs-comment">//counter value</span><br>                 <span class="hljs-keyword">output</span> <span class="hljs-keyword">reg</span>     t      <span class="hljs-comment">// carry enable signal</span><br>                );<br><span class="hljs-keyword">always</span>@(<span class="hljs-keyword">posedge</span> clk <span class="hljs-keyword">or</span> <span class="hljs-keyword">negedge</span> rst_n) <br><span class="hljs-keyword">begin</span><br>    <span class="hljs-keyword">if</span>(rst_n==<span class="hljs-number">0</span>)<br>    <span class="hljs-keyword">begin</span><br>        data &lt;= <span class="hljs-number">4&#x27;d0</span>;<br>        t &lt;= <span class="hljs-number">1&#x27;d0</span>;<br>    <span class="hljs-keyword">end</span><br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(clr)<br>    <span class="hljs-keyword">begin</span><br>        data &lt;= <span class="hljs-number">4&#x27;d0</span>;<br>        t &lt;= <span class="hljs-number">1&#x27;d0</span>;      <br>    <span class="hljs-keyword">end</span><br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(en)<br>    <span class="hljs-keyword">begin</span><br>        <span class="hljs-keyword">if</span>(data==<span class="hljs-number">4&#x27;d5</span>)<br>        <span class="hljs-keyword">begin</span><br>            t&lt;= <span class="hljs-number">1&#x27;b1</span>;    <span class="hljs-comment">//Counter to 5 to generate carry</span><br>            data &lt;= <span class="hljs-number">4&#x27;d0</span>;<span class="hljs-comment">//Counter to 5 reset</span><br>        <span class="hljs-keyword">end</span><br>        <span class="hljs-keyword">else</span><br>        <span class="hljs-keyword">begin</span><br>            t &lt;= <span class="hljs-number">1&#x27;b0</span>;<br>            data &lt;= data + <span class="hljs-number">4&#x27;d1</span>;<br>        <span class="hljs-keyword">end</span><br>    <span class="hljs-keyword">end</span><br>    <span class="hljs-keyword">else</span><br>        t &lt;= <span class="hljs-number">1&#x27;b0</span>;<br><span class="hljs-keyword">end</span><br><br><span class="hljs-keyword">endmodule</span><br></code></pre></td></tr></table></figure>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs Verilog"><span class="hljs-comment">//count_m10.v</span><br><span class="hljs-keyword">module</span> count_m10(<br>                 <span class="hljs-keyword">input</span>          clk,<br>                 <span class="hljs-keyword">input</span>          rst_n,<br>                 <span class="hljs-keyword">input</span>          en,    <span class="hljs-comment">//Counter enable</span><br>                 <span class="hljs-keyword">input</span>          clr,   <span class="hljs-comment">//Counter synchronous reset   </span><br>                 <span class="hljs-keyword">output</span> <span class="hljs-keyword">reg</span>[<span class="hljs-number">3</span>:<span class="hljs-number">0</span>]data,  <span class="hljs-comment">//counter value</span><br>                 <span class="hljs-keyword">output</span> <span class="hljs-keyword">reg</span>     t      <span class="hljs-comment">// carry enable signal</span><br>                );<br><span class="hljs-keyword">always</span>@(<span class="hljs-keyword">posedge</span> clk <span class="hljs-keyword">or</span> <span class="hljs-keyword">negedge</span> rst_n) <br><span class="hljs-keyword">begin</span><br>    <span class="hljs-keyword">if</span>(rst_n==<span class="hljs-number">0</span>)<br>    <span class="hljs-keyword">begin</span><br>        data &lt;= <span class="hljs-number">4&#x27;d0</span>;<br>        t &lt;= <span class="hljs-number">1&#x27;d0</span>;<br>    <span class="hljs-keyword">end</span><br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(clr)<br>    <span class="hljs-keyword">begin</span><br>        data &lt;= <span class="hljs-number">4&#x27;d0</span>;<br>        t &lt;= <span class="hljs-number">1&#x27;d0</span>;      <br>    <span class="hljs-keyword">end</span><br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(en)<br>    <span class="hljs-keyword">begin</span><br>        <span class="hljs-keyword">if</span>(data==<span class="hljs-number">4&#x27;d9</span>)<br>        <span class="hljs-keyword">begin</span><br>            t&lt;= <span class="hljs-number">1&#x27;b1</span>;    <span class="hljs-comment">//Counter to 9 to generate carry</span><br>            data &lt;= <span class="hljs-number">4&#x27;d0</span>;<span class="hljs-comment">//Counter to 9 reset</span><br>        <span class="hljs-keyword">end</span><br>        <span class="hljs-keyword">else</span><br>        <span class="hljs-keyword">begin</span><br>            t &lt;= <span class="hljs-number">1&#x27;b0</span>;<br>            data &lt;= data + <span class="hljs-number">4&#x27;d1</span>;<br>        <span class="hljs-keyword">end</span><br>    <span class="hljs-keyword">end</span><br>    <span class="hljs-keyword">else</span><br>        t &lt;= <span class="hljs-number">1&#x27;b0</span>;<br><span class="hljs-keyword">end</span><br><br><span class="hljs-keyword">endmodule</span><br></code></pre></td></tr></table></figure>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs Verilog"><span class="hljs-comment">//seg_decoder.v</span><br><span class="hljs-keyword">module</span> seg_decoder<br>(<br>    <span class="hljs-keyword">input</span>[<span class="hljs-number">3</span>:<span class="hljs-number">0</span>]      bin_data,     <span class="hljs-comment">// bin data input</span><br>    <span class="hljs-keyword">output</span> <span class="hljs-keyword">reg</span>[<span class="hljs-number">6</span>:<span class="hljs-number">0</span>] seg_data      <span class="hljs-comment">// seven segments LED output</span><br>);<br><br><span class="hljs-keyword">always</span>@(*)<br><span class="hljs-keyword">begin</span><br>    <span class="hljs-keyword">case</span>(bin_data)<br>       <span class="hljs-number">4&#x27;d0</span>:seg_data &lt;= <span class="hljs-number">7&#x27;b100_0000</span>;<br>       <span class="hljs-number">4&#x27;d1</span>:seg_data &lt;= <span class="hljs-number">7&#x27;b111_1001</span>;<br>       <span class="hljs-number">4&#x27;d2</span>:seg_data &lt;= <span class="hljs-number">7&#x27;b010_0100</span>;<br>       <span class="hljs-number">4&#x27;d3</span>:seg_data &lt;= <span class="hljs-number">7&#x27;b011_0000</span>;<br>       <span class="hljs-number">4&#x27;d4</span>:seg_data &lt;= <span class="hljs-number">7&#x27;b001_1001</span>;<br>       <span class="hljs-number">4&#x27;d5</span>:seg_data &lt;= <span class="hljs-number">7&#x27;b001_0010</span>;<br>       <span class="hljs-number">4&#x27;d6</span>:seg_data &lt;= <span class="hljs-number">7&#x27;b000_0010</span>;<br>       <span class="hljs-number">4&#x27;d7</span>:seg_data &lt;= <span class="hljs-number">7&#x27;b111_1000</span>;<br>       <span class="hljs-number">4&#x27;d8</span>:seg_data &lt;= <span class="hljs-number">7&#x27;b000_0000</span>;<br>       <span class="hljs-number">4&#x27;d9</span>:seg_data &lt;= <span class="hljs-number">7&#x27;b001_0000</span>;<br>       <span class="hljs-number">4&#x27;ha</span>:seg_data &lt;= <span class="hljs-number">7&#x27;b000_1000</span>;<br>       <span class="hljs-number">4&#x27;hb</span>:seg_data &lt;= <span class="hljs-number">7&#x27;b000_0011</span>;<br>       <span class="hljs-number">4&#x27;hc</span>:seg_data &lt;= <span class="hljs-number">7&#x27;b100_0110</span>;<br>       <span class="hljs-number">4&#x27;hd</span>:seg_data &lt;= <span class="hljs-number">7&#x27;b010_0001</span>;<br>       <span class="hljs-number">4&#x27;he</span>:seg_data &lt;= <span class="hljs-number">7&#x27;b000_0110</span>;<br>       <span class="hljs-number">4&#x27;hf</span>:seg_data &lt;= <span class="hljs-number">7&#x27;b000_1110</span>;<br>       <span class="hljs-keyword">default</span>:seg_data &lt;= <span class="hljs-number">7&#x27;b111_1111</span>;<br>    <span class="hljs-keyword">endcase</span><br><span class="hljs-keyword">end</span><br><span class="hljs-keyword">endmodule</span><br></code></pre></td></tr></table></figure>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br></pre></td><td class="code"><pre><code class="hljs Verilog"><span class="hljs-comment">//seg_scan.v</span><br><span class="hljs-keyword">module</span> seg_scan(<br>    <span class="hljs-keyword">input</span>           clk,<br>    <span class="hljs-keyword">input</span>           rst_n,<br>    <span class="hljs-keyword">output</span> <span class="hljs-keyword">reg</span>[<span class="hljs-number">5</span>:<span class="hljs-number">0</span>] seg_sel,      <span class="hljs-comment">//digital led chip select</span><br>    <span class="hljs-keyword">output</span> <span class="hljs-keyword">reg</span>[<span class="hljs-number">7</span>:<span class="hljs-number">0</span>] seg_data,     <span class="hljs-comment">//eight segment digital tube output,MSB is the decimal point</span><br>    <span class="hljs-keyword">input</span>[<span class="hljs-number">7</span>:<span class="hljs-number">0</span>]      seg_data_0,<br>    <span class="hljs-keyword">input</span>[<span class="hljs-number">7</span>:<span class="hljs-number">0</span>]      seg_data_1,<br>    <span class="hljs-keyword">input</span>[<span class="hljs-number">7</span>:<span class="hljs-number">0</span>]      seg_data_2,<br>    <span class="hljs-keyword">input</span>[<span class="hljs-number">7</span>:<span class="hljs-number">0</span>]      seg_data_3,<br>    <span class="hljs-keyword">input</span>[<span class="hljs-number">7</span>:<span class="hljs-number">0</span>]      seg_data_4,<br>    <span class="hljs-keyword">input</span>[<span class="hljs-number">7</span>:<span class="hljs-number">0</span>]      seg_data_5<br>);<br><span class="hljs-keyword">parameter</span> SCAN_FREQ = <span class="hljs-number">200</span>;     <span class="hljs-comment">//scan frequency</span><br><span class="hljs-keyword">parameter</span> CLK_FREQ = <span class="hljs-number">50000000</span>; <span class="hljs-comment">//clock frequency</span><br><br><span class="hljs-keyword">parameter</span> SCAN_COUNT = CLK_FREQ /(SCAN_FREQ * <span class="hljs-number">6</span>) - <span class="hljs-number">1</span>;<br><br><span class="hljs-keyword">reg</span>[<span class="hljs-number">31</span>:<span class="hljs-number">0</span>] scan_timer;  <span class="hljs-comment">//scan time counter</span><br><span class="hljs-keyword">reg</span>[<span class="hljs-number">3</span>:<span class="hljs-number">0</span>] scan_sel;     <span class="hljs-comment">//Scan select counter</span><br><span class="hljs-keyword">always</span>@(<span class="hljs-keyword">posedge</span> clk <span class="hljs-keyword">or</span> <span class="hljs-keyword">negedge</span> rst_n)<br><span class="hljs-keyword">begin</span><br>    <span class="hljs-keyword">if</span>(rst_n == <span class="hljs-number">1&#x27;b0</span>)<br>    <span class="hljs-keyword">begin</span><br>       scan_timer &lt;= <span class="hljs-number">32&#x27;d0</span>;<br>       scan_sel &lt;= <span class="hljs-number">4&#x27;d0</span>;<br>    <span class="hljs-keyword">end</span><br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(scan_timer &gt;= SCAN_COUNT)<br>    <span class="hljs-keyword">begin</span><br>       scan_timer &lt;= <span class="hljs-number">32&#x27;d0</span>;<br>       <span class="hljs-keyword">if</span>(scan_sel == <span class="hljs-number">4&#x27;d5</span>)<br>          scan_sel &lt;= <span class="hljs-number">4&#x27;d0</span>;<br>       <span class="hljs-keyword">else</span><br>          scan_sel &lt;= scan_sel + <span class="hljs-number">4&#x27;d1</span>;<br>    <span class="hljs-keyword">end</span><br>    <span class="hljs-keyword">else</span><br>       <span class="hljs-keyword">begin</span><br>          scan_timer &lt;= scan_timer + <span class="hljs-number">32&#x27;d1</span>;<br>       <span class="hljs-keyword">end</span><br><span class="hljs-keyword">end</span><br><span class="hljs-keyword">always</span>@(<span class="hljs-keyword">posedge</span> clk <span class="hljs-keyword">or</span> <span class="hljs-keyword">negedge</span> rst_n)<br><span class="hljs-keyword">begin</span><br>    <span class="hljs-keyword">if</span>(rst_n == <span class="hljs-number">1&#x27;b0</span>)<br>    <span class="hljs-keyword">begin</span><br>       seg_sel &lt;= <span class="hljs-number">6&#x27;b111111</span>;<br>       seg_data &lt;= <span class="hljs-number">8&#x27;hff</span>;<br>    <span class="hljs-keyword">end</span><br>    <span class="hljs-keyword">else</span><br>    <span class="hljs-keyword">begin</span><br>       <span class="hljs-keyword">case</span>(scan_sel)<br>          <span class="hljs-comment">//first digital led</span><br>          <span class="hljs-number">4&#x27;d0</span>:<br>          <span class="hljs-keyword">begin</span><br>             seg_sel &lt;= <span class="hljs-number">6&#x27;b11_1110</span>;<br>             seg_data &lt;= seg_data_0;<br>          <span class="hljs-keyword">end</span><br>          <span class="hljs-comment">//second digital led</span><br>          <span class="hljs-number">4&#x27;d1</span>:<br>          <span class="hljs-keyword">begin</span><br>             seg_sel &lt;= <span class="hljs-number">6&#x27;b11_1101</span>;<br>             seg_data &lt;= seg_data_1;<br>          <span class="hljs-keyword">end</span><br>          <span class="hljs-comment">//...</span><br>          <span class="hljs-number">4&#x27;d2</span>:<br>          <span class="hljs-keyword">begin</span><br>             seg_sel &lt;= <span class="hljs-number">6&#x27;b11_1011</span>;<br>             seg_data &lt;= seg_data_2;<br>          <span class="hljs-keyword">end</span><br>          <span class="hljs-number">4&#x27;d3</span>:<br>          <span class="hljs-keyword">begin</span><br>             seg_sel &lt;= <span class="hljs-number">6&#x27;b11_0111</span>;<br>             seg_data &lt;= seg_data_3;<br>          <span class="hljs-keyword">end</span><br>          <span class="hljs-number">4&#x27;d4</span>:<br>          <span class="hljs-keyword">begin</span><br>             seg_sel &lt;= <span class="hljs-number">6&#x27;b10_1111</span>;<br>             seg_data &lt;= seg_data_4;<br>          <span class="hljs-keyword">end</span><br>          <span class="hljs-number">4&#x27;d5</span>:<br>          <span class="hljs-keyword">begin</span><br>             seg_sel &lt;= <span class="hljs-number">6&#x27;b01_1111</span>;<br>             seg_data &lt;= seg_data_5;<br>          <span class="hljs-keyword">end</span><br>          <span class="hljs-keyword">default</span>:<br>          <span class="hljs-keyword">begin</span><br>             seg_sel &lt;= <span class="hljs-number">6&#x27;b11_1111</span>;<br>             seg_data &lt;= <span class="hljs-number">8&#x27;hff</span>;<br>          <span class="hljs-keyword">end</span><br>       <span class="hljs-keyword">endcase</span><br>    <span class="hljs-keyword">end</span><br><span class="hljs-keyword">end</span><br><br><span class="hljs-keyword">endmodule</span><br></code></pre></td></tr></table></figure>
<p>è¿è¡Œç»“æœï¼š</p>
<center><img src="https://images.rimrose.site/images/EDA_expt-6_Fig1.png" alt="Fig-1 Flow Summary"></center>
<div></div>
<center><img src="https://images.rimrose.site/images/EDA_expt-6_Fig2.png" alt="Fig-2 RTLå›¾"></center>
<div></div>
<center><img src="https://images.rimrose.site/images/EDA_expt-6_Fig3.png" alt="Fig-3 Pin Planneré…ç½®"></center>
<p>å®é™…ç»“æœå°±æ˜¯æ¯æŒ‰ä¸€æ¬¡æŒ‰é”®ï¼Œæ•°ç ç®¡ä¸Šçš„æ•°å­—+1ã€‚</p>
<h2 id="å››ã€å®éªŒä¸­é‡åˆ°çš„é—®é¢˜åŠè§£å†³æ–¹æ³•-6">å››ã€å®éªŒä¸­é‡åˆ°çš„é—®é¢˜åŠè§£å†³æ–¹æ³•</h2>
<p>è¿™æ¬¡å®éªŒé‡‡ç”¨äº†demoä¸­çš„æŒ‰é”®æ¶ˆæŠ–è§£å†³æ–¹æ¡ˆï¼Œå¹¶æœªé‡åˆ°ä»€ä¹ˆé—®é¢˜ã€‚</p>
<h2 id="äº”ã€å¿ƒå¾—ä½“ä¼š-5">äº”ã€å¿ƒå¾—ä½“ä¼š</h2>
<p>æŒ‰é”®å»æŠ–åŠ¨çš„åŸç†ï¼š</p>
<p>æŒ‰é”®åœ¨ç‰©ç†ä¸ŠæŒ‰ä¸‹æˆ–é‡Šæ”¾æ—¶ï¼Œå¯èƒ½ä¼šäº§ç”Ÿå¤šä¸ªç”µå¹³å˜åŒ–ï¼Œå¯¼è‡´å¾®å°çš„æŠ–åŠ¨ã€‚</p>
<p>å»æŠ–åŠ¨çš„ç›®æ ‡æ˜¯ç¡®ä¿åªæœ‰ä¸€ä¸ªæœ‰æ•ˆçš„æŒ‰é”®çŠ¶æ€è¢«è®°å½•ï¼Œè€Œä¸å—æŠ–åŠ¨çš„å½±å“ã€‚</p>
<p>ç¡¬ä»¶å»æŠ–åŠ¨ï¼š</p>
<p>ç¡¬ä»¶å»æŠ–åŠ¨é€šå¸¸ä½¿ç”¨ RC ç”µè·¯æˆ–è€… Schmitt è§¦å‘å™¨æ¥å®ç°ã€‚</p>
<p>RC ç”µè·¯é€šè¿‡ç”µå®¹å’Œç”µé˜»çš„ç»„åˆï¼Œå»¶è¿Ÿç”µå¹³å˜åŒ–ï¼Œä»è€Œå‡å°‘æŠ–åŠ¨ã€‚</p>
<p>Schmitt è§¦å‘å™¨å…·æœ‰ä¸¤ä¸ªé˜ˆå€¼ç”µå¹³ï¼Œå¯ä»¥æœ‰æ•ˆåœ°æŠ‘åˆ¶æŠ–åŠ¨ã€‚</p>
<p>è½¯ä»¶å»æŠ–åŠ¨ï¼š</p>
<p>è½¯ä»¶å»æŠ–åŠ¨é€šå¸¸åœ¨æ•°å­—ç”µè·¯ä¸­ä½¿ç”¨ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨è®¡æ•°å™¨æ¥è·Ÿè¸ªæŒ‰é”®çŠ¶æ€çš„æŒç»­æ—¶é—´ï¼Œåªæœ‰åœ¨ä¸€å®šæ—¶é—´å†…ä¿æŒç¨³å®šçŠ¶æ€æ—¶æ‰è®¤ä¸ºæŒ‰é”®æœ‰æ•ˆã€‚</p>
<p>è¿™éœ€è¦åˆç†çš„è®¡æ—¶å™¨è®¾è®¡å’ŒçŠ¶æ€æœºæ§åˆ¶ã€‚</p>
<p>Verilog HDL ä¸­çš„å®ç°ï¼š</p>
<p>åœ¨ Verilog HDL ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ always å—æ¥å®ç°æŒ‰é”®å»æŠ–åŠ¨é€»è¾‘ã€‚</p>
<p>è®¡æ•°å™¨ã€çŠ¶æ€æœºå’Œé€‰æ‹©é€»è¾‘éƒ½å¯ä»¥åœ¨ Verilog ä¸­æ–¹ä¾¿åœ°å®ç°ã€‚</p>
<p>ï¼ˆå¿ƒå¾—ä½“ä¼šç”±newbingç”Ÿæˆï¼Œæœ›çŸ¥æ‚‰ï¼‰</p>
</article><div class="post-copyright"><div class="post-copyright__author_group"><a class="post-copyright__author_img" href="/about/"><img class="post-copyright__author_img_front" src="https://images.rimrose.site/images/QQå›¾ç‰‡20231031210606.ico"></a><div class="post-copyright__author_name">Rimrose's Blog</div><div class="post-copyright__author_desc"></div></div><div class="post-tools" id="post-tools"><div class="post-tools-left"><div id="quit-box" onclick="RemoveRewardMask()"></div></div></div><div class="post-copyright__notice"><span class="post-copyright-info">æœ¬æ–‡æ˜¯åŸåˆ›æ–‡ç« ï¼Œé‡‡ç”¨<a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh">CC BY-NC-SA 4.0</a>åè®®ï¼Œå®Œæ•´è½¬è½½è¯·æ³¨æ˜æ¥è‡ª<a href="/">Rimrose's Blog</a></span></div></div><div class="post-tools-right"><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/study/"><span class="tags-punctuation"><i class="solitude fa-solid fa-hashtag"></i>study<span class="tagsPageCount">3</span></span></a></div></div></div><nav class="needEndHide pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/TEC/Multipass%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8%E4%B8%AD%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98%E7%9A%84%E4%B8%80%E4%BA%9B%E8%AE%B0%E5%BD%95/"><div class="pagination-info"><div class="label">ä¸Šä¸€ç¯‡</div><div class="prev_info">Multipasså®‰è£…ä¸ä½¿ç”¨ä¸­é‡åˆ°çš„é—®é¢˜çš„ä¸€äº›è®°å½•</div></div></a></div><div class="next-post pull-right"><a href="/REC/SpineModel/"><div class="pagination-info"><div class="label">ä¸‹ä¸€ç¯‡</div><div class="next_info">åœ¨åšå®¢é‡Œæ”¾ä¸€åªSpineModel</div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-content"><div class="card-info-avatar is-center"><div class="author-info__top-group"><div class="author-info__sayhi" id="author-info__sayhi" onclick="sco.changeSayHelloText()">sayhello.morning</div></div></div><div class="avatar-img-group"><img class="avatar-img" alt="å¤´åƒ" src="https://q1.qlogo.cn/g?b=qq&amp;nk=2632364603&amp;s=640"></div><div class="author-info__description_group"><div class="author-info__description"></div><div class="author-info__description2"></div></div><div class="author-info__bottom-group"><a class="author-info__bottom-group-left" href="/about/"><div class="author-info__name">Rimrose</div><div class="author-info__desc"></div></a><div class="card-info-social-icons is-center"><a class="social-icon" target="_blank" rel="noopener" href="https://github.com/SirTamago" title="Github"><i class="solitude  fab fa-github"></i></a><a class="social-icon" target="_blank" rel="noopener" href="https://space.bilibili.com/30333799" title="Bilibili"><i class="solitude  fab fa-bilibili"></i></a><a class="social-icon" target="_blank" rel="noopener" href="https://www.zhihu.com/people/feng-jia-he-15" title="Zhihu"><i class="solitude  fa-brands fa-zhihu"></i></a></div></div></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="solitude fa-solid fa-bars"></i><span>æ–‡ç« ç›®å½•</span></div><div class="toc-content" id="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-text">å®éªŒä¸€ï¼šLEDæµæ°´ç¯è®¾è®¡</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E5%AE%9E%E9%AA%8C%E7%9B%AE%E7%9A%84"><span class="toc-text">ä¸€ã€å®éªŒç›®çš„</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E5%AE%9E%E9%AA%8C%E5%86%85%E5%AE%B9%E5%8F%8A%E5%8E%9F%E7%90%86"><span class="toc-text">äºŒã€å®éªŒå†…å®¹åŠåŸç†</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%AE%9E%E9%AA%8C%E5%86%85%E5%AE%B9"><span class="toc-text">1. å®éªŒå†…å®¹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%AE%9E%E9%AA%8C%E5%8E%9F%E7%90%86"><span class="toc-text">2. å®éªŒåŸç†</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E5%AE%9E%E9%AA%8C%E6%AD%A5%E9%AA%A4%E5%8F%8A%E7%BB%93%E6%9E%9C"><span class="toc-text">ä¸‰ã€å®éªŒæ­¥éª¤åŠç»“æœ</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%BB%BA%E7%AB%8B%E5%B7%A5%E7%A8%8B"><span class="toc-text">1. å»ºç«‹å·¥ç¨‹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E7%BC%96%E5%86%99%E4%BB%A3%E7%A0%81"><span class="toc-text">2. ç¼–å†™ä»£ç </span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E5%85%B6%E4%BB%96%E8%AE%BE%E7%BD%AE"><span class="toc-text">3. å…¶ä»–è®¾ç½®</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E7%BC%96%E8%AF%91%E4%B8%8B%E8%BD%BD"><span class="toc-text">4. ç¼–è¯‘ä¸‹è½½</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-%E5%9B%BA%E5%8C%96%E7%A8%8B%E5%BA%8F%E5%88%B0flash"><span class="toc-text">5. å›ºåŒ–ç¨‹åºåˆ°flash</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#5-1-%E8%BD%AC%E6%8D%A2jic%E6%96%87%E4%BB%B6"><span class="toc-text">5.1. è½¬æ¢jicæ–‡ä»¶</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-2-%E5%9B%BA%E5%8C%96%E5%88%B0flash"><span class="toc-text">5.2. å›ºåŒ–åˆ°flash</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-%E6%93%A6%E9%99%A4Flash%E4%B8%AD%E5%B7%B2%E6%9C%89%E7%9A%84%E7%A8%8B%E5%BA%8F"><span class="toc-text">6. æ“¦é™¤Flashä¸­å·²æœ‰çš„ç¨‹åº</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9B%E3%80%81%E5%AE%9E%E9%AA%8C%E4%B8%AD%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98%E5%8F%8A%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95"><span class="toc-text">å››ã€å®éªŒä¸­é‡åˆ°çš„é—®é¢˜åŠè§£å†³æ–¹æ³•</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%94%E3%80%81%E6%BA%90%E7%A8%8B%E5%BA%8F%E5%92%8Ctestbench%E4%BB%A3%E7%A0%81"><span class="toc-text">äº”ã€æºç¨‹åºå’Œtestbenchä»£ç </span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%AD%E3%80%81%E5%BF%83%E5%BE%97%E4%BD%93%E4%BC%9A"><span class="toc-text">å…­ã€å¿ƒå¾—ä½“ä¼š</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-text">å®éªŒäºŒï¼šæ•°ç ç®¡åŠ¨æ€æ˜¾ç¤º</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E5%AE%9E%E9%AA%8C%E7%9B%AE%E7%9A%84-2"><span class="toc-text">ä¸€ã€å®éªŒç›®çš„</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E5%AE%9E%E9%AA%8C%E5%86%85%E5%AE%B9%E5%8F%8A%E5%8E%9F%E7%90%86-2"><span class="toc-text">äºŒã€å®éªŒå†…å®¹åŠåŸç†</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%AE%9E%E9%AA%8C%E5%86%85%E5%AE%B9-2"><span class="toc-text">1. å®éªŒå†…å®¹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%AE%9E%E9%AA%8C%E5%8E%9F%E7%90%86-2"><span class="toc-text">2. å®éªŒåŸç†</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-1-%E7%A1%AC%E4%BB%B6%E4%BB%8B%E7%BB%8D"><span class="toc-text">2.1. ç¡¬ä»¶ä»‹ç»</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-%E6%95%B0%E7%A0%81%E7%AE%A1%E6%89%AB%E6%8F%8F%E5%8E%9F%E7%90%86"><span class="toc-text">2.2. æ•°ç ç®¡æ‰«æåŸç†</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E5%AE%9E%E9%AA%8C%E6%AD%A5%E9%AA%A4%E5%8F%8A%E7%BB%93%E6%9E%9C-2"><span class="toc-text">ä¸‰ã€å®éªŒæ­¥éª¤åŠç»“æœ</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1"><span class="toc-text">1. ç¨‹åºè®¾è®¡</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E6%A8%A1%E5%9D%97%E8%AE%BE%E8%AE%A1"><span class="toc-text">2. æ¨¡å—è®¾è®¡</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-1-%E8%AF%91%E7%A0%81%E6%A8%A1%E5%9D%97"><span class="toc-text">2.1. è¯‘ç æ¨¡å—</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-%E6%95%B0%E7%A0%81%E7%AE%A1%E6%89%AB%E6%8F%8F%E6%A8%A1%E5%9D%97"><span class="toc-text">2.2. æ•°ç ç®¡æ‰«ææ¨¡å—</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-%E6%A8%A1-10-%E8%AE%A1%E6%95%B0%E5%99%A8%E6%A8%A1%E5%9D%97"><span class="toc-text">2.3. æ¨¡ 10 è®¡æ•°å™¨æ¨¡å—</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-4-%E6%A8%A1-6-%E8%AE%A1%E6%95%B0%E5%99%A8%E6%A8%A1%E5%9D%97"><span class="toc-text">2.4. æ¨¡ 6 è®¡æ•°å™¨æ¨¡å—</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E5%AE%9E%E9%AA%8C%E7%BB%93%E6%9E%9C"><span class="toc-text">3. å®éªŒç»“æœ</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9B%E3%80%81%E5%AE%9E%E9%AA%8C%E4%B8%AD%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98%E5%8F%8A%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95-2"><span class="toc-text">å››ã€å®éªŒä¸­é‡åˆ°çš„é—®é¢˜åŠè§£å†³æ–¹æ³•</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%97%AE%E9%A2%98"><span class="toc-text">é—®é¢˜</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88"><span class="toc-text">è§£å†³æ–¹æ¡ˆ</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%94%E3%80%81%E5%BF%83%E5%BE%97%E4%BD%93%E4%BC%9A"><span class="toc-text">äº”ã€å¿ƒå¾—ä½“ä¼š</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-text">å®éªŒä¸‰ï¼šæ•°å­—æ—¶é’Ÿè®¾è®¡</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E5%AE%9E%E9%AA%8C%E7%9B%AE%E7%9A%84-3"><span class="toc-text">ä¸€ã€å®éªŒç›®çš„</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E5%AE%9E%E9%AA%8C%E5%86%85%E5%AE%B9%E5%8F%8A%E5%8E%9F%E7%90%86-3"><span class="toc-text">äºŒã€å®éªŒå†…å®¹åŠåŸç†</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%AE%9E%E9%AA%8C%E5%86%85%E5%AE%B9-3"><span class="toc-text">1. å®éªŒå†…å®¹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%AE%9E%E9%AA%8C%E5%8E%9F%E7%90%86-3"><span class="toc-text">2. å®éªŒåŸç†</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-1-%E7%A1%AC%E4%BB%B6%E4%BB%8B%E7%BB%8D-2"><span class="toc-text">2.1. ç¡¬ä»¶ä»‹ç»</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-%E6%95%B0%E7%A0%81%E7%AE%A1%E6%89%AB%E6%8F%8F%E5%8E%9F%E7%90%86-2"><span class="toc-text">2.2. æ•°ç ç®¡æ‰«æåŸç†</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E5%AE%9E%E9%AA%8C%E6%AD%A5%E9%AA%A4%E5%8F%8A%E7%BB%93%E6%9E%9C-3"><span class="toc-text">ä¸‰ã€å®éªŒæ­¥éª¤åŠç»“æœ</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1-2"><span class="toc-text">1. ç¨‹åºè®¾è®¡</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E6%A8%A1%E5%9D%97%E8%AE%BE%E8%AE%A1-2"><span class="toc-text">2. æ¨¡å—è®¾è®¡</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-1-%E8%AF%91%E7%A0%81%E6%A8%A1%E5%9D%97-2"><span class="toc-text">2.1. è¯‘ç æ¨¡å—</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-%E6%95%B0%E7%A0%81%E7%AE%A1%E6%89%AB%E6%8F%8F%E6%A8%A1%E5%9D%97-2"><span class="toc-text">2.2. æ•°ç ç®¡æ‰«ææ¨¡å—</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-%E6%A8%A1-10-%E8%AE%A1%E6%95%B0%E5%99%A8%E6%A8%A1%E5%9D%97-2"><span class="toc-text">2.3. æ¨¡ 10 è®¡æ•°å™¨æ¨¡å—</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-4-%E6%A8%A1-6-%E8%AE%A1%E6%95%B0%E5%99%A8%E6%A8%A1%E5%9D%97-2"><span class="toc-text">2.4. æ¨¡ 6 è®¡æ•°å™¨æ¨¡å—</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-5-%E6%A8%A1-24-%E8%AE%A1%E6%95%B0%E5%99%A8%E6%A8%A1%E5%9D%97"><span class="toc-text">2.5. æ¨¡ 24 è®¡æ•°å™¨æ¨¡å—</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9B%E3%80%81%E5%AE%9E%E9%AA%8C%E4%B8%AD%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98%E5%8F%8A%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95-3"><span class="toc-text">å››ã€å®éªŒä¸­é‡åˆ°çš„é—®é¢˜åŠè§£å†³æ–¹æ³•</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B6%E4%B8%80"><span class="toc-text">å…¶ä¸€</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B6%E4%BA%8C"><span class="toc-text">å…¶äºŒ</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%94%E3%80%81%E5%BF%83%E5%BE%97%E4%BD%93%E4%BC%9A-2"><span class="toc-text">äº”ã€å¿ƒå¾—ä½“ä¼š</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-text">å®éªŒå››ï¼šæ­£å¼¦ä¿¡å·å‘ç”Ÿå™¨è®¾è®¡</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E5%AE%9E%E9%AA%8C%E7%9B%AE%E7%9A%84-4"><span class="toc-text">ä¸€ã€å®éªŒç›®çš„</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E5%AE%9E%E9%AA%8C%E5%86%85%E5%AE%B9%E5%8F%8A%E5%8E%9F%E7%90%86-4"><span class="toc-text">äºŒã€å®éªŒå†…å®¹åŠåŸç†</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%AE%9E%E9%AA%8C%E5%86%85%E5%AE%B9-4"><span class="toc-text">1. å®éªŒå†…å®¹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%AE%9E%E9%AA%8C%E5%8E%9F%E7%90%86-4"><span class="toc-text">2. å®éªŒåŸç†</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E5%AE%9E%E9%AA%8C%E6%AD%A5%E9%AA%A4%E5%8F%8A%E7%BB%93%E6%9E%9C-4"><span class="toc-text">ä¸‰ã€å®éªŒæ­¥éª¤åŠç»“æœ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9B%E3%80%81%E5%AE%9E%E9%AA%8C%E4%B8%AD%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98%E5%8F%8A%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95-4"><span class="toc-text">å››ã€å®éªŒä¸­é‡åˆ°çš„é—®é¢˜åŠè§£å†³æ–¹æ³•</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%94%E3%80%81%E5%BF%83%E5%BE%97%E4%BD%93%E4%BC%9A-3"><span class="toc-text">äº”ã€å¿ƒå¾—ä½“ä¼š</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-text">å®éªŒäº”ï¼šä»»æ„æ³¢å½¢å‘ç”Ÿå™¨è®¾è®¡</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E5%AE%9E%E9%AA%8C%E7%9B%AE%E7%9A%84-5"><span class="toc-text">ä¸€ã€å®éªŒç›®çš„</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E5%AE%9E%E9%AA%8C%E5%86%85%E5%AE%B9%E5%8F%8A%E5%8E%9F%E7%90%86-5"><span class="toc-text">äºŒã€å®éªŒå†…å®¹åŠåŸç†</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%AE%9E%E9%AA%8C%E5%86%85%E5%AE%B9-5"><span class="toc-text">1. å®éªŒå†…å®¹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%AE%9E%E9%AA%8C%E5%8E%9F%E7%90%86-5"><span class="toc-text">2. å®éªŒåŸç†</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E5%AE%9E%E9%AA%8C%E6%AD%A5%E9%AA%A4%E5%8F%8A%E7%BB%93%E6%9E%9C-5"><span class="toc-text">ä¸‰ã€å®éªŒæ­¥éª¤åŠç»“æœ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9B%E3%80%81%E5%AE%9E%E9%AA%8C%E4%B8%AD%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98%E5%8F%8A%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95-5"><span class="toc-text">å››ã€å®éªŒä¸­é‡åˆ°çš„é—®é¢˜åŠè§£å†³æ–¹æ³•</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%94%E3%80%81%E5%BF%83%E5%BE%97%E4%BD%93%E4%BC%9A-4"><span class="toc-text">äº”ã€å¿ƒå¾—ä½“ä¼š</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-text">å®éªŒå…­ï¼šç¡¬ä»¶æ¶ˆæŠ–ç”µè·¯è®¾è®¡</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E5%AE%9E%E9%AA%8C%E7%9B%AE%E7%9A%84-6"><span class="toc-text">ä¸€ã€å®éªŒç›®çš„</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E5%AE%9E%E9%AA%8C%E5%86%85%E5%AE%B9%E5%8F%8A%E5%8E%9F%E7%90%86-6"><span class="toc-text">äºŒã€å®éªŒå†…å®¹åŠåŸç†</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%AE%9E%E9%AA%8C%E5%86%85%E5%AE%B9%EF%BC%9A"><span class="toc-text">1. å®éªŒå†…å®¹ï¼š</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%AE%9E%E9%AA%8C%E5%8E%9F%E7%90%86-6"><span class="toc-text">2. å®éªŒåŸç†:</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E5%AE%9E%E9%AA%8C%E6%AD%A5%E9%AA%A4%E5%8F%8A%E7%BB%93%E6%9E%9C-6"><span class="toc-text">ä¸‰ã€å®éªŒæ­¥éª¤åŠç»“æœ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9B%E3%80%81%E5%AE%9E%E9%AA%8C%E4%B8%AD%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98%E5%8F%8A%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95-6"><span class="toc-text">å››ã€å®éªŒä¸­é‡åˆ°çš„é—®é¢˜åŠè§£å†³æ–¹æ³•</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%94%E3%80%81%E5%BF%83%E5%BE%97%E4%BD%93%E4%BC%9A-5"><span class="toc-text">äº”ã€å¿ƒå¾—ä½“ä¼š</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="solitude fa-solid fa-map"></i><span>æœ€è¿‘å‘å¸ƒ</span></div><div class="aside-list"><a class="aside-list-item" href="/TEC/Multipass%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8%E4%B8%AD%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98%E7%9A%84%E4%B8%80%E4%BA%9B%E8%AE%B0%E5%BD%95/" title="Multipasså®‰è£…ä¸ä½¿ç”¨ä¸­é‡åˆ°çš„é—®é¢˜çš„ä¸€äº›è®°å½•"><div class="thumbnail"><img alt="Multipasså®‰è£…ä¸ä½¿ç”¨ä¸­é‡åˆ°çš„é—®é¢˜çš„ä¸€äº›è®°å½•" src="/img/default.avif"></div><div class="content"><span class="title" href="/TEC/Multipass%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8%E4%B8%AD%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98%E7%9A%84%E4%B8%80%E4%BA%9B%E8%AE%B0%E5%BD%95/" title="Multipasså®‰è£…ä¸ä½¿ç”¨ä¸­é‡åˆ°çš„é—®é¢˜çš„ä¸€äº›è®°å½•">Multipasså®‰è£…ä¸ä½¿ç”¨ä¸­é‡åˆ°çš„é—®é¢˜çš„ä¸€äº›è®°å½•</span><span class="article-recent_post_categories" href="/TEC/Multipass%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8%E4%B8%AD%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98%E7%9A%84%E4%B8%80%E4%BA%9B%E8%AE%B0%E5%BD%95/">TEC</span></div></a><a class="aside-list-item" href="/TEC/%E7%94%B5%E5%AD%90%E8%AE%BE%E8%AE%A1%E8%87%AA%E5%8A%A8%E5%8C%96%E5%AE%9E%E9%AA%8C%E6%8A%A5%E5%91%8A/" title="ç”µå­è®¾è®¡è‡ªåŠ¨åŒ–å®éªŒæŠ¥å‘Š"><div class="thumbnail"><img alt="ç”µå­è®¾è®¡è‡ªåŠ¨åŒ–å®éªŒæŠ¥å‘Š" src="/img/default.avif"></div><div class="content"><span class="title" href="/TEC/%E7%94%B5%E5%AD%90%E8%AE%BE%E8%AE%A1%E8%87%AA%E5%8A%A8%E5%8C%96%E5%AE%9E%E9%AA%8C%E6%8A%A5%E5%91%8A/" title="ç”µå­è®¾è®¡è‡ªåŠ¨åŒ–å®éªŒæŠ¥å‘Š">ç”µå­è®¾è®¡è‡ªåŠ¨åŒ–å®éªŒæŠ¥å‘Š</span><span class="article-recent_post_categories" href="/TEC/%E7%94%B5%E5%AD%90%E8%AE%BE%E8%AE%A1%E8%87%AA%E5%8A%A8%E5%8C%96%E5%AE%9E%E9%AA%8C%E6%8A%A5%E5%91%8A/">TEC</span></div></a><a class="aside-list-item" href="/REC/SpineModel/" title="åœ¨åšå®¢é‡Œæ”¾ä¸€åªSpineModel"><div class="thumbnail"><img alt="åœ¨åšå®¢é‡Œæ”¾ä¸€åªSpineModel" src="/img/default.avif"></div><div class="content"><span class="title" href="/REC/SpineModel/" title="åœ¨åšå®¢é‡Œæ”¾ä¸€åªSpineModel">åœ¨åšå®¢é‡Œæ”¾ä¸€åªSpineModel</span><span class="article-recent_post_categories" href="/REC/SpineModel/">REC</span></div></a><a class="aside-list-item" href="/REC/2024-06-10_at_night/" title="å…³äºå‘³è§‰å—…è§‰å¬è§‰å’Œè§†è§‰"><div class="thumbnail"><img alt="å…³äºå‘³è§‰å—…è§‰å¬è§‰å’Œè§†è§‰" src="/img/default.avif"></div><div class="content"><span class="title" href="/REC/2024-06-10_at_night/" title="å…³äºå‘³è§‰å—…è§‰å¬è§‰å’Œè§†è§‰">å…³äºå‘³è§‰å—…è§‰å¬è§‰å’Œè§†è§‰</span><span class="article-recent_post_categories" href="/REC/2024-06-10_at_night/">REC</span></div></a><a class="aside-list-item" href="/REC/ABOUT_ME/" title="About me"><div class="thumbnail"><img alt="About me" src="/img/default.avif"></div><div class="content"><span class="title" href="/REC/ABOUT_ME/" title="About me">About me</span><span class="article-recent_post_categories" href="/REC/ABOUT_ME/">REC</span></div></a></div></div></div></div></main><footer id="footer"><div id="footer-bar"><div class="footer-bar-links"><div class="footer-bar-left"><div class="copyright">Â© 2023 - 2024 By&nbsp;<a class="footer-bar-link" href="/">Rimrose</a></div></div><div class="footer-bar-right"><a class="footer-bar-link" target="_blank" rel="noopener" href="https://github.com/everfu/hexo-theme-solitude" alt="Theme">Theme</a></div></div></div></footer></div><!-- right_menu--><!-- inject body--><div><script src="/js/utils.js?v=2.1.9"></script><script src="/js/main.js?v=2.1.9"></script><script src="/js/third_party/waterfall.min.js?v=2.1.9"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/pjax/0.2.8/pjax.min.js"></script><script src="/js/tw_cn.js?v=2.1.9"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/node-snackbar/0.1.16/snackbar.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fancyapps-ui/5.0.36/fancybox/fancybox.umd.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/pace/1.2.4/pace.min.js"></script><div class="js-pjax"></div></div><!-- pjax--><script>const pjax = new Pjax({
    elements: 'a:not([target="_blank"])',
    selectors: ["title","#body-wrap","#site-config","meta[name=\"description\"]",".js-pjax","meta[property^=\"og:\"]","#config-diff",".rs_show",".rs_hide"],
    cacheBust: false,
    analytics: false,
    scrollRestoration: false
})

document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
})

document.addEventListener('pjax:complete', () => {
    window.refreshFn()

    document.querySelectorAll('script[data-pjax]').forEach(item => {
        const newScript = document.createElement('script')
        const content = item.text || item.textContent || item.innerHTML || ""
        Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
        newScript.appendChild(document.createTextNode(content))
        item.parentNode.replaceChild(newScript, item)
    })

    GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

})

document.addEventListener('pjax:error', (e) => {
    if (e.request.status === 404) {
        pjax.loadUrl('/404.html')
    }
})</script><!-- google adsense--><!-- search--><!-- Tianli-Talk--><!-- music--></body></html>
        <script>
            const posts = ["TEC/Multipasså®‰è£…ä¸ä½¿ç”¨ä¸­é‡åˆ°çš„é—®é¢˜çš„ä¸€äº›è®°å½•/","TEC/ç”µå­è®¾è®¡è‡ªåŠ¨åŒ–å®éªŒæŠ¥å‘Š/","REC/SpineModel/","REC/2024-06-10_at_night/","REC/ABOUT_ME/","TEC/å¾®æœºåŸç†ä¸Šæœºå®éªŒç›¸å…³/","TEC/ç”µå­è®¾è®¡è‡ªåŠ¨åŒ–å®éªŒç›¸å…³/","REC/2023Photos/","TEC/yolov5s_record/","TEC/ä¸€èˆ¬æƒ…å†µä¸‹çš„é˜¿æ³¢ç½—å°¼æ–¯åœ†çš„æ–¹ç¨‹çš„æ¨å¯¼è¿‡ç¨‹/","TEC/å¹³æ–¹æ•°åˆ—æ±‚å’Œçš„ä¸€ç§éæ­£å¸¸æ±‚æ³•/"];
            function toRandomPost() {
                const randomPost = posts[Math.floor(Math.random() * posts.length)];
                pjax.loadUrl(GLOBAL_CONFIG.root + randomPost);
            }
        </script>